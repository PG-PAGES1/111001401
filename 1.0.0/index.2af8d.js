window.__require=function t(e,n,o){function i(r,s){if(!n[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var p=n[r]={exports:{}};e[r][0].call(p.exports,function(t){return i(e[r][1][t]||t)},p,p.exports,t,e,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({Adaptive111001401:[function(t,e,n){"use strict";cc._RF.push(e,"6290bzMDGBJ9Y5twKF04vq7","Adaptive111001401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameEventName111001401"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sc1=null,e.cs2=null,e.cz=null,e.logo=null,e.bg_di=null,e}return i(e,t),e.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(r.EventName.EVENT_WIN_GAME,this.showChuanzhangAni,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_WIN_MORE_THAN_BET,this.playAni,this),t.prototype.resize.call(this)},e.prototype.layoutLandscape=function(){this.sc1.active=!1,this.cs2.active=!1,this.cz.active=!1,this.bg_di.active=!1,this.logo.scale=1,this.logo.setPosition(0,445,0)},e.prototype.layoutPortrait=function(){this.sc1.active=!0,this.cs2.active=!0,this.cz.active=!0,this.bg_di.active=!0,this.cz.scale=2.2,this.logo.scale=1.2,this.logo.setPosition(0,460,0)},e.prototype.showChuanzhangAni=function(){},e.prototype.playAni=function(){},e.prototype.playSound=function(){console.log("\u64ad\u653e\u4e86\u4e94\u8fde\u97f3\u6548")},e.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_WIN_GAME,this.showChuanzhangAni,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_WIN_MORE_THAN_BET,this.playAni,this)},a([l(cc.Node)],e.prototype,"sc1",void 0),a([l(cc.Node)],e.prototype,"cs2",void 0),a([l(cc.Node)],e.prototype,"cz",void 0),a([l(cc.Node)],e.prototype,"logo",void 0),a([l(cc.Node)],e.prototype,"bg_di",void 0),a([c],e)}(slot.BaseView);n.default=p,cc._RF.pop()},{"../GameEventName111001401":"GameEventName111001401"}],AnimationEx111001401:[function(t,e,n){"use strict";cc._RF.push(e,"b83458h6XxOebspe56tmI4K","AnimationEx111001401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},a([s],e)}(slot.AnimationExtend));n.default=c,cc._RF.pop()},{}],Banner111001401:[function(t,e,n){"use strict";cc._RF.push(e,"1a837zDyN9NBqgDZ5NzIzU9","Banner111001401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),slot.banner=this},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this)},a([s],e)}(slot.SlotBanner));n.default=c,cc._RF.pop()},{}],BonusGame111001401_:[function(t,e,n){"use strict";cc._RF.push(e,"79dfaqILrZLv6x13pw7I0HM","BonusGame111001401_");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../main/CommonNumAtlas111001401"),s=t("../main/Main111001401"),c=cc._decorator,l=c.ccclass,p=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clickNode=null,e.p_nodeGuodu=null,e.p_nodeBg=null,e.p_nodeBg2=null,e.p_nodeTime=null,e.p_nodePb=null,e.p_nodeBoomFx=null,e.callBack=null,e.m_time=0,e.m_isPlay=!1,e.m_isClose=!1,e.Counts=0,e.callBack1=null,e.numTime=0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.setLanguageLayout=function(){var t=this.node.getChildByName("spr_countDown"),e=t.width>465?465/t.width:1;t.scale=e},e.prototype.LGACTIONRESP=function(){},e.prototype.init=function(){},e.prototype.onOpen=function(t){for(var e=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.callBack=n[0][1],this.Counts=n[0][0],this.callBack1=n[0][2],this.m_time=0,this.numTime=0,this.m_isPlay=!1,this.clickNode.on(cc.Node.EventType.MOUSE_ENTER,function(){e.clickNode.children[1].active=!0}),this.clickNode.on(cc.Node.EventType.MOUSE_LEAVE,function(){e.clickNode.children[1].active=!1}),this.p_nodeTime.getComponent(r.default).string=""+this.Counts,cc.tween(this.clickNode).delay(3).call(function(){e.clickNode.getComponent(cc.Button).interactable=!0,e.m_isPlay=!0}).start(),cc.tween(this.clickNode).delay(1.6).call(function(){e.m_isPlay=!0}).start(),this.callBack1&&this.callBack1()},e.prototype.update=function(t){100==this.numTime&&this.m_time<3.5&&(this.m_time+=t,this.m_time>=3.5)?this.clickStart():this.m_isPlay&&(this.numTime=Math.min(100,this.numTime+2),this.p_nodePb.getComponent(r.default).string=""+this.numTime,100==this.numTime&&(this.m_isPlay=!1))},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.LGACTIONRESP,this.LGACTIONRESP,this)},e.prototype.getLastActionResult=function(){return this.onActionResult(),null},e.prototype.clickStart=function(){var t=this;slot.SoundMger.instance.playEffect("Free_Click_Sound"),this.scheduleOnce(function(){game.UIManager.getInstance().closeByUIID(s.UIID.BONUS_GAME_POPUP),t.callBack&&t.callBack.run()},.2)},e.prototype._updateTime=function(){},a([p(cc.Node)],e.prototype,"clickNode",void 0),a([p(cc.Node)],e.prototype,"p_nodeGuodu",void 0),a([p(cc.Node)],e.prototype,"p_nodeBg",void 0),a([p(cc.Node)],e.prototype,"p_nodeBg2",void 0),a([p(cc.Node)],e.prototype,"p_nodeTime",void 0),a([p(cc.Node)],e.prototype,"p_nodePb",void 0),a([p(cc.Node)],e.prototype,"p_nodeBoomFx",void 0),a([l],e)}(slot.AbstractBonusGameView);n.default=d,cc._RF.pop()},{"../main/CommonNumAtlas111001401":"CommonNumAtlas111001401","../main/Main111001401":"Main111001401"}],CommonNumAtlas111001401:[function(t,e,n){"use strict";cc._RF.push(e,"4b4eeau0QVJ0qVL2hHp+KpY","CommonNumAtlas111001401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sync_color=!0,e.blend_one=!1,e.AtlsElment=[],e._spaceX=10,e._offScale=1,e._offPosY=0,e._offPosX=0,e._allWildx=0,e._dataStr="",e._shrink=!1,e._maxWidth=0,e._syncRootWidth=!0,e.pool=[],e.containerNode=null,e._sumChildrenWidth=0,e}return i(e,t),Object.defineProperty(e.prototype,"string",{get:function(){return this._dataStr},set:function(t){this._dataStr=t,this.resetPicFromNum()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spaceX",{get:function(){return this._spaceX},set:function(t){this._spaceX=t,this.resetPicFromNum()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offScale",{get:function(){return this._offScale},set:function(t){this._offScale=t,this.resetPicFromNum()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offPosX",{get:function(){return this._offPosX},set:function(t){this._offPosX=t,this.resetPicFromNum()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offPosY",{get:function(){return this._offPosY},set:function(t){this._offPosY=t,this.resetPicFromNum()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shrink",{get:function(){return this._shrink},set:function(t){this._shrink=t,t&&(this._syncRootWidth=!1),this.resetPicLabelWidth(),this.resetRootNodeWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth=t,this.resetPicLabelWidth(),this.resetRootNodeWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"syncRootWidth",{get:function(){return this._syncRootWidth},set:function(t){this._syncRootWidth=t,this.resetRootNodeWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sumChildrenWidth",{get:function(){return this._sumChildrenWidth},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.pool=[],this.string=this._dataStr},e.prototype.start=function(){this.resetPicFromNum()},e.prototype.syncChildenColor=function(){var t=this;this.sync_color&&this.containerNode.children.forEach(function(e){e.color=t.node.color})},e.prototype.resetPicFromNum=function(){var t=this._dataStr;if(!this.containerNode){var e=this.node.getChildByName("_Private_ContainerNode");e?this.containerNode=e:(this.containerNode=new cc.Node("_Private_ContainerNode"),this.node.addChild(this.containerNode),this.containerNode.anchorX=.5)}for(var n=0;n<this.containerNode.childrenCount;n++)this.pool.push(this.containerNode[n]);this.containerNode.removeAllChildren(),this._sumChildrenWidth=0;for(var o=0;o<t.length;o++){var i=t[o],a=this.getPicElementConfig(i),r=a?a.elmentSpriteFrame:null;if(!r)return void cc.warn(t+"----"+i+" not config!!!");var s=this.pool.pop();s||(s=new cc.Node).addComponent(cc.Sprite),s.anchorX=0,s.anchorY=","==i||"."==i?1:.5,this.containerNode.addChild(s);var c=this.containerNode.children[o].getComponent(cc.Sprite);if(c.spriteFrame=r,this.blend_one&&(c.dstBlendFactor=cc.macro.BlendFactor.ONE),0==o)this.containerNode.children[o].x=0,this._sumChildrenWidth+=r.getOriginalSize().width;else{var l,p=this.containerNode.children[o-1].getComponent(cc.Sprite);l=p?p.spriteFrame.getOriginalSize().width:this.containerNode.children[o-1].width,this.containerNode.children[o].x=this.containerNode.children[o-1].x+this.spaceX+l,this._sumChildrenWidth+=r.getOriginalSize().width+this.spaceX}}this.containerNode.width=this._sumChildrenWidth,this.node.scale=this.offScale,this.node.x+=this.offPosX,this.node.y+=this.offPosY,this.containerNode.x=0,this.containerNode.x=-this.containerNode.width*this.node.anchorX,this.resetPicLabelWidth(),this.resetRootNodeWidth(),this.syncChildenColor()},e.prototype.getPicElementConfig=function(t){for(var e=0,n=this.AtlsElment;e<n.length;e++){var o=n[e];if(t==o.id)return o}},e.prototype.resetPicLabelWidth=function(){this.shrink?(this.containerNode.scale=this._sumChildrenWidth<=this.maxWidth?1:this.maxWidth/this._sumChildrenWidth,this.containerNode.x=-this.containerNode.width*this.containerNode.scale/2):this.containerNode.scale=1},e.prototype.resetRootNodeWidth=function(){this._syncRootWidth?this.node.width=this._sumChildrenWidth*this.offScale:this.node.width=this._sumChildrenWidth<=this.maxWidth?this._sumChildrenWidth:this.maxWidth},e.prototype.onDestroy=function(){for(var t=0,e=this.pool;t<e.length;t++){var n=e[t];n&&n.destroy()}},a([c(Boolean)],e.prototype,"sync_color",void 0),a([c({type:Boolean,tooltip:"\u76ee\u6807\u6df7\u5408\u56e0\u5b50\u8bbe\u7f6e\u4e3aONE"})],e.prototype,"blend_one",void 0),a([c({type:cc.String})],e.prototype,"string",null),a([c([slot.AtlsElmentConfig])],e.prototype,"AtlsElment",void 0),a([c],e.prototype,"_spaceX",void 0),a([c({tooltip:"\u6570\u5b57\u4e4b\u95f4\u7684\u95f4\u8ddd,\u9ed8\u8ba410"})],e.prototype,"spaceX",null),a([c],e.prototype,"_offScale",void 0),a([c({tooltip:"\u653e\u5927\u7f29\u5c0f\u7684\u500d\u6570,\u9ed8\u8ba41"})],e.prototype,"offScale",null),a([c({tooltip:"X\u4f4d\u7f6e\u589e\u52a0\u51cf\u5c11\u503c,\u9ed8\u8ba40"})],e.prototype,"offPosX",null),a([c({tooltip:"Y\u4f4d\u7f6e\u589e\u52a0\u51cf\u5c11\u503c,\u9ed8\u8ba40"})],e.prototype,"offPosY",null),a([c],e.prototype,"_dataStr",void 0),a([c({type:cc.Boolean,tooltip:"\u662f\u5426\u4f7f\u7528\u81ea\u9002\u5e94"})],e.prototype,"shrink",null),a([c],e.prototype,"_shrink",void 0),a([c({type:cc.Float,tooltip:"\u81ea\u9002\u5e94\u7684\u8282\u70b9\u6700\u5927\u5bbd\u5ea6(shrink\u4e3atrue,\u5c06\u751f\u6548)"})],e.prototype,"maxWidth",null),a([c],e.prototype,"_maxWidth",void 0),a([c({type:cc.Boolean,tooltip:"\u662f\u5426\u5728\u8bbe\u7f6estring\u65f6\u540c\u6b65\u6839\u8282\u70b9\u5bbd\u5ea6(\u82e5\u8bbe\u7f6e\u4e86\u81ea\u9002\u5e94\uff0c\u5219\u8282\u70b9\u5bbd\u5ea6\u4e0d\u53d7\u79c1\u6709\u8282\u70b9\u5f71\u54cd)",visible:function(){return!this._shrink}})],e.prototype,"syncRootWidth",null),a([c],e.prototype,"_syncRootWidth",void 0),a([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],FreeGameResult111001401:[function(t,e,n){"use strict";cc._RF.push(e,"bade02iMA1AU6RCYE1O9zNU","FreeGameResult111001401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../main/CommonNumAtlas111001401"),s=t("../main/Main111001401"),c=cc._decorator,l=c.ccclass,p=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.p_nodeTimes=null,e.p_nodeCoins=null,e.p_nodeAniBtn=null,e.m_isUpdate=!1,e.callBack=null,e.m_sumSpinCoin=1,e.m_sumTimes=0,e.completeHandler=null,e.m_money=0,e.m_speed=0,e.m_time=0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onOpen=function(t){for(var e=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.number=0,this.m_speed=0,this.m_time=0,this.m_money=0,this.p_nodeAniBtn.interactable=!1,this.p_nodeCoins.getComponent(r.default).string="0",this.p_nodeAniBtn.node.on(cc.Node.EventType.MOUSE_ENTER,function(){e.p_nodeAniBtn.node.children[1].active=!0}),this.p_nodeAniBtn.node.on(cc.Node.EventType.MOUSE_LEAVE,function(){e.p_nodeAniBtn.node.children[1].active=!1}),this.completeHandler=this.callBack=n[0][0],this.m_sumSpinCoin=Number(n[0][1]),0==this.m_sumSpinCoin&&(this.node.getComponent(cc.Animation).play("free_over1"),this.scheduleOnce(function(){return e.p_nodeAniBtn.interactable=!0},.5)),this.p_nodeTimes.getComponent(r.default).string=""+n[0][2],this.scheduleOnce(function(){return e.m_speed=e.m_sumSpinCoin/180},.1),slot.SoundMger.instance.stopMusic("FreeGame_Back_Music"),slot.SoundMger.instance.playEffect("Free_Game_Settlement")},e.prototype.onClickClose=function(){var t=this;cc.log("free ove auto close-----"),this.scheduleOnce(function(){game.UIManager.getInstance().closeByUIID(s.UIID.FREE_GAME_RESULT),t.completeHandler&&t.completeHandler.runWith(!0)},.2),slot.SoundMger.instance.stopEffect("Free_Game_Settlement_End"),slot.SoundMger.instance.stopMusic("FreeGame_Back_Music"),slot.SoundMger.instance.playMusic(slot.SOUND_NAME.Game_Back_Music),slot.SoundMger.instance.playEffect("Free_Click_Sound"),slot.gameLayer.resetScatter()},e.prototype.onQuickOver=function(){if(this.m_money!=this.m_sumSpinCoin){this.m_money=this.m_sumSpinCoin;var t=slot.SlotUtils.formatNumber(this.m_money);this.p_nodeCoins.getComponent(r.default).string=t,this.node.getComponent(cc.Animation).play("free_over1"),slot.SoundMger.instance.stopEffect("Free_Game_Settlement"),slot.SoundMger.instance.playEffect("Free_Game_Settlement_End"),this.p_nodeAniBtn.interactable=!0}},e.prototype.update=function(t){var e=this;if(this.m_money<this.m_sumSpinCoin){this.m_money=Math.min(this.m_sumSpinCoin,this.m_money+this.m_speed),this.m_money=Math.max(0,this.m_money),this.m_money>=this.m_sumSpinCoin&&(this.node.getComponent(cc.Animation).play("free_over1"),slot.SoundMger.instance.playEffect("Free_Game_Settlement_End"),this.scheduleOnce(function(){return e.p_nodeAniBtn.interactable=!0},.5));var n=slot.SlotUtils.formatNumber(this.m_money);this.p_nodeCoins.getComponent(r.default).string=n}else-1!=this.m_time&&(this.m_time+=t,this.m_time>=5&&(this.m_time=-1,this.onClickClose()))},a([p(cc.Node)],e.prototype,"p_nodeTimes",void 0),a([p(cc.Node)],e.prototype,"p_nodeCoins",void 0),a([p(cc.Button)],e.prototype,"p_nodeAniBtn",void 0),a([l],e)}(game.UIView);n.default=d,cc._RF.pop()},{"../main/CommonNumAtlas111001401":"CommonNumAtlas111001401","../main/Main111001401":"Main111001401"}],GameBg111001401:[function(t,e,n){"use strict";cc._RF.push(e,"597fcE2jUVAnZlW9rkQGMfA","GameBg111001401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){},a([s],e)}(slot.BaseView));n.default=c,cc._RF.pop()},{}],GameEventName111001401:[function(t,e,n){"use strict";cc._RF.push(e,"ca65fGvksNAQrdlFI+FdLPW","GameEventName111001401"),Object.defineProperty(n,"__esModule",{value:!0}),n.SOUND_NAME=n.RoleAniType=n.WinType=n.EventName=void 0,function(t){t.EVENT_WIN_GAME="EVENT_WIN_GAME",t.EVENT_UPDATE_MULTIPLE="EVENT_UPDATE_MULTIPLE",t.EVENT_UPDATE_MULTIPLE_NUM="EVENT_UPDATE_MULTIPLE_NUM",t.EVENT_CONTINUE_REWARD="EVENT_CONTINUE_REWARD",t.EVENT_CONTINUE_REWARD_END="EVENT_CONTINUE_REWARD_END",t.FREE_GAME_START="FREE_GAME_START",t.FREE_GAME_OVER="FREE_GAME_OVER",t.EVENT_FREE_GAME_NUM="EVENT_FREE_GAME_NUM",t.EVENT_ADD_FREE_GAME_NUM="EVENT_ADD_FREE_GAME_NUM",t.EVENT_PLAY_WIN_NUM="EVENT_PLAY_WIN_NUM",t.EVENT_STOP_WIN_NUM="EVENT_STOP_WIN_NUM",t.EVENT_PLAY_ROLE_ANI="EVENT_PLAY_ROLE_ANI",t.EVENT_PLAY_SCORE_ANI="EVENT_PLAY_SCORE_ANI",t.EVENT_UPDATE_COUNT_SCORE="EVENT_UPDATE_COUNT_SCORE",t.RESET_BG_SPRITE="RESET_BG_SPRITE",t.SET_BG_SPRITE="SET_BG_SPRITE",t.RESET_WIN="RESET_WIN"}(n.EventName||(n.EventName={})),function(t){t.SuperWin="SuperWin",t.MargeWin="MargeWin",t.BigWin="BigWin",t.Lose="Lose",t.win="win",t.fiveEven="fiveEven",t.wild="wild"}(n.WinType||(n.WinType={})),function(t){t[t.Random=1]="Random",t[t.Multiplier=2]="Multiplier",t[t.WinMedium=3]="WinMedium",t[t.WinSmall=4]="WinSmall",t[t.FastSpinIdle=5]="FastSpinIdle"}(n.RoleAniType||(n.RoleAniType={})),function(t){t.Scatter_Expectation="Scatter_Expectation",t.FreeGame_Back_Music="FreeGame_Back_Music",t.Free_Game_Settlement="Free_Game_Settlement",t.Free_Game_Settlement_End="Free_Game_Settlement_End",t.Slider_Effect="Slider_Effect",t.Textbox_01="Textbox_01",t.Textbox_02="Textbox_02",t.Textbox_03="Textbox_03",t.Multiplier_Increase_Character_011="Multiplier_Increase_Character_011",t.Multiplier_Increase_Character_010="Multiplier_Increase_Character_010",t.Multiplier_Increase_Character_02="Multiplier_Increase_Character_02",t.Multiplier_Increase_Character_03="Multiplier_Increase_Character_03",t.Multiplier_Increase_01="Multiplier_Increase_01",t.Multiplier_Increase_02="Multiplier_Increase_02",t.Multiplier_Increase_03="Multiplier_Increase_03",t.Multiplier_Reset="Multiplier_Reset",t.Multiplier_Switch="Multiplier_Switch",t.Fs_Character="Fs_Character",t.Count_Down="Count_Down",t.Chosen_Stay="Chosen_Stay",t.Chosen_Tip="Chosen_Tip",t.Chosen="Chosen",t.Fs_Enter="Fs_Enter",t.Fs_Multiplier_Change="Fs_Multiplier_Change",t.Line_Prize="Line_Prize",t.Reel_Scrolling="Reel_Scrolling",t.Reel_Scrolling_End="Reel_Scrolling_End",t.Wild_Prize="Wild_Prize",t.Reel_Compass="Reel_Compass",t.Reel_Girl="Reel_Girl",t.Reel_Gun="Reel_Gun",t.Reel_Map="Reel_Map",t.Reel_Scatter="Reel_Scatter",t.Reel_Wild="Reel_Wild"}(n.SOUND_NAME||(n.SOUND_NAME={})),cc._RF.pop()},{}],GameLayer111001401:[function(t,e,n){"use strict";cc._RF.push(e,"03dfd0k2WFPcJVsFSNgFaM+","GameLayer111001401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameEventName111001401"),s=t("../main/CommonNumAtlas111001401"),c=t("../main/Main111001401"),l=t("./scrollerSkins/JTChildManager111001401"),p=t("./scrollerSkins/JTLayerManager111001401"),d=t("./scrollerSkins/JTScattask111001401"),u=t("../GameLogic111001401"),h=cc._decorator,_=h.ccclass,m=h.property,f=slot.SpinElementView.prototype.show;slot.SpinElementView.prototype.show=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];f.apply(this,t),this.node.x+=t[2]?-5:5};var y=slot.SpinElementView.prototype.hide;slot.SpinElementView.prototype.hide=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];y.apply(this,t);var n=slot["wrap"+slot.MultipleGameManager.instance.curGameID].parent.elementBlackGround;cc.Tween.stopAllByTarget(n)},slot.JTLayerSortContainer.prototype.resetLayerSort=function(){if(0!=this._childs.length)for(;this._childs.length;){var t=this._childs.shift(),e=t.owner,n=e.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position));t.y=n.y,t.x=n.x,t.removeFromParent(),e.addChild(t)}};var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.roller=null,e.mianfeianniu=null,e.wildCircle=null,e.wildWrap=null,e.wildShadow=null,e.wildShadow1=null,e.block1=null,e.block2=null,e.p_sprMaskTs=null,e.p_nodeLabNum=null,e.sMask=null,e.cardSymbols=null,e.m_scoreNode=null,e.tailAni=null,e.m_isChufaFree=!1,e.scatterTask=null,e.wildTask=null,e.scroller=null,e.m_isRunning=!1,e.removeIndex=-1,e.curMoney=0,e.bScatterAcc=!1,e.count=-1,e.bScatterEffect=!1,e.isAddBigWinCoin=!0,e.wildWrapActionArr=[],e.currentOrder=0,e.wildShadowActionArr=[],e.isFirst=!0,e.isInTurBo=!1,e.m_sumSpinCoin=0,e}return i(e,t),e.prototype.onLoad=function(){window.gamelayer=this,slot.gameLayer=this,slot.cardSymbols=this.cardSymbols,slot.SlotConfigManager.instance.registerJPTypes(3),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWinScore,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_NEW_ELEMDROP_DROPEND,this.onScatterWait,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.stopNow,this),this.node.getChildByName("scrollerLayer").zIndex=10,this.node.getChildByName("effect").zIndex=20,this.node.getChildByName("multiplieHub").zIndex=8,this.node.getChildByName("nodeBanner").zIndex=5,this.node.getChildByName("below").zIndex=1,this.node.getChildByName("eleP").zIndex=60,this.wildWrap.zIndex=12,this.wildShadow.zIndex=2,this.wildShadow1.zIndex=2,this.wildShadow.active=!1,this.wildShadow1.active=!1,slot.SlotConfigManager.instance.registerGameIds([core.Global.gameId,10*core.Global.gameId+1],core.Global.gameId),t.prototype.onLoad&&t.prototype.onLoad.call(this),console.log("game111001401 onload"),this.tailAni=new cc.Node,this.tailAni.active=!1,this.tailAni.setAnchorPoint(1,.5),this.tailAni.zIndex=10,this.node.addChild(this.tailAni);var e=this.tailAni.addComponent(slot.AnimationExtend),n=new slot.AniParam(slot.ANIMATION_TYPE.SPRITE_FRAMES_CLIP,"animations/aniFrame/wild_light",slot.GData.bundleName,"animation");e.init(n),this.tailAni.getComponent(cc.Sprite).dstBlendFactor=cc.macro.BlendFactor.ONE;var o=new cc.Node("wave");o.y=-650,o.opacity=200,o.scale=1.4,this.node.getChildByName("freebg").addChild(o);var i=o.addComponent(slot.AnimationExtend),a=new slot.AniParam(slot.ANIMATION_TYPE.SPRITE_FRAMES_CLIP,"animations/aniFrame/shuiwen",slot.GData.bundleName,"animation");i.init(a);var r=o.getComponent(cc.Sprite);r.sizeMode=cc.Sprite.SizeMode.RAW,r.trim=!1,r.dstBlendFactor=cc.macro.BlendFactor.ONE,i.play("animation",!0);var s=this.node.getChildByName("freebg").getChildByName("wrap1").getChildByName("timesbg"),c=new cc.Node("light");c.setPosition(-18,20),c.scale=1.36,s.addChild(c);var l=c.addComponent(slot.AnimationExtend);this.timesLight=l;var p=new slot.AniParam(slot.ANIMATION_TYPE.SPRITE_FRAMES_CLIP,"animations/aniFrame/mianfeicishuxianshikuang",slot.GData.bundleName,"animation");l.init(p);var d=c.getComponent(cc.Sprite);d.sizeMode=cc.Sprite.SizeMode.RAW,d.trim=!1,d.dstBlendFactor=cc.macro.BlendFactor.ONE,l.play("animation",!1),this.schedule(function(){var t=slot.infoHub.p_nodeRole.getComponent(sp.Skeleton);if(/^idle/.test(t.animation)){var e=Math.random();if(e<.5){var n=Math.floor(4*e);t.setAnimation(0,["idle2","idle3"][n],!0),slot.SoundMger.instance.playEffect(["Mermaid_Sound_ComeOn","Mermaid_Sound_Hm"][n]),t.setCompleteListener(function(){/^idle/.test(t.animation)&&t.setAnimation(0,"idle",!0),t.setCompleteListener(null)})}}},8)},e.prototype.stopNow=function(){slot.SoundMger.instance.playEffect("Reel_Stop_Force")},e.prototype.updateWinScore=function(t,e){this.isFirst&&slot.infoHub.playScore(1,-1,e)},e.prototype.playTailEffect=function(t,e){var n=this;this.tailAni.active=!0,this.tailAni.angle=-cc.v2(e.x-t.x,e.y-t.y).signAngle(cc.v2(1,0))/Math.PI*180,this.tailAni.getComponent(slot.AnimationExtend).play("animation",!1);var o=t.sub(e).mag();cc.tween(this.tailAni).set({scaleX:0,x:t.x,y:t.y}).to(.2,{scaleX:o/350,x:e.x,y:e.y}).start(),cc.tween(this).delay(.3).call(function(){n.tailAni.active=!1}).start()},e.prototype.onHideElementView=function(){var t=slot["wrap"+slot.MultipleGameManager.instance.curGameID].parent.elementBlackGround,e=t.getChildByName("blur");cc.Tween.stopAllByTarget(e),cc.tween(e).to(.2,{opacity:0}).call(function(){return t.active=!1}).start()},e.prototype.onShowElementView=function(t,e){slot.SoundMger.instance.playEffect("symbol_Click");var n=slot["wrap"+slot.MultipleGameManager.instance.curGameID].parent.elementBlackGround,o=n.getChildByName("blur");cc.Tween.stopAllByTarget(o),cc.tween(o).to(.2,{opacity:150}).start();var i=arguments[5],a=arguments[4],r=i.getComponent(slot.SpinElementView),s=r.elementSk;s.node.x=a?-63.5:63.5,r.elementDesc.lineHeight=33;var c=s.node.wild_wrap;if(c&&c.wild_w&&(c.wild_w.active=!1),c&&c.wild_w_mul12&&(c.wild_w_mul12.active=!1),c&&c.wild_w_mul14&&(c.wild_w_mul14.active=!1),c&&c.wild_w_mul15&&(c.wild_w_mul15.active=!1),e>=11){var l=arguments[5].getComponent(slot.SpinElementView);if(l.config.specialDesc[e].bg=a?"payout_window3":"payout_window2",l.frameBg.node.scaleY=a?1:-1,c||(c=s.node.wild_wrap=new cc.Node,s.node.addChild(c)),c.active=!0,s.setCompleteListener(function(){s.setAnimation(0,"idle",!0),s.setCompleteListener(null)}),13==e){if(!c.wild_w){var p=cc.instantiate(this.wildWrap.getChildByName("s_wild_w_txt"));p.scale=1,p.x=0,c.addChild(p),c.wild_w=p}c.wild_w.active=!0}else if(e>=12){if(!c["wild_w_mul"+e]){var d=cc.instantiate(slot.SlotMachineView.instance.node.parent.getChildByName("s_wild_blue").getChildByName("mul"+e));c.addChild(d),c["wild_w_mul"+e]=d}c["wild_w_mul"+e].active=!0}}else c&&(c.active=!1)},e.prototype.onEnable=function(){game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_PLAYER_CLICKED_SINGLE_START_BTN,this.onClickStart,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.onShowElementView,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_HIDE,this.onHideElementView,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.RESTORERESP,this.restoreresp,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().addEventListener(slot.CommonEventNames.EVENT_CLOSE_LOADING_VIEW,this.closeLoading,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_RESET_SCROLLER,this.resetRoller,this)},e.prototype.closeLoading=function(){},e.prototype.resetRoller=function(){slot.SlotMachineView.instance.scroller.renders.forEach(function(t){return t.initEffect()})},e.prototype.restoreresp=function(t,e){var n;console.log("------",e),2==e.state.state?(n=Number(e.state.freeData.spinInfo.spinResult.spinCoin),this.m_sumSpinCoin=e.state.freeData.sumSpinCoin,this.m_isChufaFree=!0):n=0==e.state.normalData.sumSpinCoin?Number(e.state.normalData.spinInfo.spinResult.spinCoin):Number(e.state.normalData.sumSpinCoin),n>0&&game.EventManager.getInstance().raiseEvent(r.EventName.RESET_WIN,n);var o=(2==e.state.state?e.state.freeData.handleState:e.state.normalData.handleState).game_10017.data.resultList;if(o.length>0){var i=o[o.length-1].rate,a=(2==e.state.state?[2,4,6,10]:[1,2,3,5]).indexOf(i);-1!=a?slot.multiplierHub.showMultiplier(e.state.state,a,!0):cc.warn("\u91cd\u8fde\u500d\u6570\u4e0d\u5bf9~")}},e.prototype.onDestroy=function(){this.dispose(),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_PLAYER_CLICKED_SINGLE_START_BTN,this.onClickStart,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.onShowElementView,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().removeEventListener(slot.CommonEventNames.EVENT_CLOSE_LOADING_VIEW,this.closeLoading,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_RESET_SCROLLER,this.resetRoller,this)},e.prototype.start=function(){},e.prototype.onInit=function(){slot.SpinManager.instance.isFullLineAvailable=!1,this._initSlotMachineView(),console.log("oninit"),slot.SpinManager.customResultCallBack=function(){return slot.SpinManager.instance.customUpdateData.game_10017.data.resultList}},e.prototype.onScrollerInitComplete=function(){core.Global.gameId},e.prototype.onChangeScrollerBegin=function(t,e){var n=this;console.log("onChangeScrollerBegin--gameID==",t);var o,i=this.node.getChildByName("below").getChildByName("bg1"),a=this.node.getChildByName("below").getChildByName("bg2"),r="wrap"+core.Global.gameId,s="wrap"+(10*core.Global.gameId+1);t==core.Global.gameId?(slot[r].parent.x=0,slot[s].parent.x=1e4,this.block1.active=!0,this.block2.active=!1,i.active=!0,a.active=!1,o=slot[r].parent):(slot[r].parent.x=1e4,slot[s].parent.x=0,this.block1.active=!1,this.block2.active=!0,i.active=!1,a.active=!0,o=slot[s].parent),e.run();var c=slot.SpinManager.instance.rollingResult.nextState;c&&1==c.state&&o.renders.forEach(function(t,e){return t.data=c.normalData.spinInfo.spinResult.gridChanged[e]}),this.wildWrap.parent=slot.SlotMachineView.instance.scroller.effectAboveContainer,this.wildCircle.parent=this.wildWrap.parent,this.wildShadow.parent=this.wildWrap.parent,this.wildShadow1.parent=this.wildWrap.parent,this.tailAni.parent=this.wildWrap.parent,this.posArr=o.renders.map(function(t){return n.wildWrap.parent.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position))});var l=o.renders.map(function(t){return t.data}).indexOf(13);o.renders[l].skinLoader.scale=.1,this.currentOrder=l+1,this.wildWrap.setPosition(this.posArr[l]),o.renders.forEach(function(t){return t.initEffect()});for(var p=t==10*core.Global.gameId+1?[5,4,3,2,1]:[1,2,3,4,5],d=0;d<5;d++)for(var u=p[d];u<5;u++)slot.SlotMachineView.instance.scroller.items[d].renders[u].active=!1},e.prototype.onSetupScroller=function(t,e){var n=this;console.log("gameID=",t),e.gameID=t;var o=slot.SlotConfigManager.instance.DataGame.getData(t);e.setupFactory(new p.default,new l.default,new u.default),slot.JTDefaultItemRender.setPlayCoinIndex(2,7);var i,a=e.options(slot.JTEliminatePipeline,slot.JTScrollerGroup.USE_CONVERT_MROE_LIST,o.column,this.slotMachine.scrollingComplete);a.childOption(slot.JTCreateScrolling,slot.JTOptionType.OPTION_CREATE),a.childOption(slot.JTBeginScrolling,slot.JTOptionType.OPTION_BEGIN_RUNNING,this.slotMachine.beginScrolling),a.childOption(slot.JTRunScrolling,slot.JTOptionType.OPTION_RUNNING,this.slotMachine.onSpinPreStop),a.childOption(slot.JTOverScrollEliminate,slot.JTOptionType.OPTION_OVER_RUNNING,this.slotMachine.scrollingProgress),e.setupDefaultItemList(this.getSourceList,slot.SlotConfigManager.instance.DataElement.getKeys(),!1),slot.JTDefaultItemRender.setPlayCoinIndex(1,4),slot.EliminateEffectUtils.elePlayAni=slot.Handler.create(this,this.playPrizeAni,[],!1),slot.EliminateDisappearUtils.disappearTime=0,t==core.Global.gameId?(e.setupGridConfig(this.slotMachine.gridWidth,this.slotMachine.gridHeight,o.row,o.column,this.slotMachine.spaceX,this.slotMachine.spaceY,this.slotMachine.spaceX,this.slotMachine.spaceY,!0,this.slotMachine.orientation),(i=[]).push(cc.v2(0,-276)),i.push(cc.v2(139,-276)),i.push(cc.v2(139,-210)),i.push(cc.v2(278,-210)),i.push(cc.v2(278,-138)),i.push(cc.v2(417,-138)),i.push(cc.v2(417,-70)),i.push(cc.v2(556,-70)),i.push(cc.v2(556,2)),i.push(cc.v2(695,2)),i.push(cc.v2(695,-695)),i.push(cc.v2(556,-695)),i.push(cc.v2(556,-625)),i.push(cc.v2(417,-625)),i.push(cc.v2(417,-551)),i.push(cc.v2(278,-551)),i.push(cc.v2(278,-484)),i.push(cc.v2(139,-484)),i.push(cc.v2(139,-412)),i.push(cc.v2(0,-412)),e.setupMaskPolygon(i)):((i=[]).push(cc.v2(-2,4)),i.push(cc.v2(139,4)),i.push(cc.v2(139,-69)),i.push(cc.v2(278,-69)),i.push(cc.v2(278,-137)),i.push(cc.v2(417,-137)),i.push(cc.v2(417,-211)),i.push(cc.v2(556,-211)),i.push(cc.v2(556,-277)),i.push(cc.v2(695,-277)),i.push(cc.v2(695,-416)),i.push(cc.v2(556,-416)),i.push(cc.v2(556,-487)),i.push(cc.v2(417,-487)),i.push(cc.v2(417,-554)),i.push(cc.v2(278,-554)),i.push(cc.v2(278,-628)),i.push(cc.v2(139,-628)),i.push(cc.v2(139,-694)),i.push(cc.v2(-2,-694)),e.setupGridConfig(this.slotMachine.gridWidth,this.slotMachine.gridHeight,o.row,o.column,this.slotMachine.spaceX,this.slotMachine.spaceY,this.slotMachine.spaceX,this.slotMachine.spaceY,!0,this.slotMachine.orientation),e.setupMaskPolygon(i));var r="scatterTask"+t;this[r]=new d.default,this[r].gameId=t,this[r].setIgnore(t==core.Global.gameId?[[1,2,3,4],[2,3,4],[3,4],[4],[]]:[[],[4],[3,4],[2,3,4],[1,2,3,4]]),this[r].config(11,2,"10-50-3",0,1e3,"animations/cardAni/wait",!0,null,function(t){if(0==n.m_isRunning){var e=n.node.getChildByName("below").getChildByName("node_score").getChildByName("ib_vfx_f");e.active=!0,cc.tween(e).to(.2,{opacity:80}).to(.2,{opacity:0}).union().repeatForever().start(),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,2),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!1),console.log("----------Scatter_Expectation_Start------------"),n.m_isRunning=!0,slot.infoHub.p_nodeRole.getComponent(sp.Skeleton).setAnimation(0,"fastspin_idle",!0)}slot.SoundMger.instance.playEffect("Reel_Quick_0"+(t.index-1)),n.adjustAccPos()});var s=0;this[r].onScatterComplte=function(){if(++s>=5){var e=n.node.getChildByName("below").getChildByName("node_score").getChildByName("ib_vfx_f");cc.Tween.stopAllByTarget(e),e.active=!1,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,n.m_isChufaFree?1:0),cc.log("\u5206\u6563\u52a0\u901f\u5b8c\u6210=============="),n.m_isRunning=!1,s=0;for(var o=0,i=slot.SpinManager.instance.customUpdateData.game_10017.data.resultList,a=i[i.length-1].spinResult.grid,r=t==10*core.Global.gameId+1?[5,4,3,2,1]:[1,2,3,4,5],c=0;c<5;c++)for(var l=5*c,p=0;p<r[c];p++)o+=11==a[l+p]?1:0;if(o<3){var d=slot.infoHub.p_nodeRole.getComponent(sp.Skeleton);/^idle/.test(d.animation)||d.setAnimation(0,"idle",!0)}}},e.registerTask(slot.JTRuleTaskManager.TYPE_SCATTER,this[r],new slot.JTTaskContainer)},e.prototype.playPrizeAni=function(t,e,n,o){var i=this;this.removeIndex++,this.stopWildAction();for(var a=0,r=t;a<r.length;a++){var s=r[a];s.data>11&&!s._slotFrameAniView1&&(cc.log("element has error~~~"),s.elePlayAnimation())}this.scheduleOnce(function(){i.playGoldAni(t,e,n,o)},.5)},e.prototype.playGoldAni=function(t,e,n,o){this.slotMachine.scroller.updateChangedChildsLayer(t,!0),this.changeItemAni(t,e,n,o)},e.prototype.onScatterWait=function(){this.bScatterAcc||slot.SoundMger.instance.playEffect("Eliminate_Rear_roller")},e.prototype.changeItemAni=function(t,e,n){for(var o=this,i=slot.SlotMachineView.instance.scroller.parent.children.find(function(t){return t.active}).gameID,a=slot["wrap"+i].parent,r=0;r<t.length;r++){var s=t[r];s.skinLoader.url=null,s.data<11&&i==core.Global.gameId&&(s.skinLoader.y+=6)}this.count++,slot.SlotMachineView.instance.scroller.children[10]._components[0].enabled=!1;var c=slot.SpinManager.instance.customUpdateData.game_10017.data.resultList,l=c[this.count];if(l){a.renders.forEach(function(t){if(11==t.data&&t.scatterEffect){var e=t.skinLoader.skeletonNode.getComponent(sp.Skeleton);e.setAnimation(0,"spawn",!1),e.setCompleteListener(function(){e.setAnimation(0,"idle",!0),e.setCompleteListener(null)})}});var p,d=slot.SlotMachineView.instance.scroller._blackBackGround;d.active=!0,cc.tween(d).set({opacity:0}).to(.2,{opacity:170}).delay(1.5).to(.2,{opacity:0}).start();for(var u=slot.SlotMachineView.instance.scroller.children[12],h=slot.SlotMachineView.instance.scroller.children[7],_=i==10*core.Global.gameId+1?[5,4,3,2,1]:[1,2,3,4,5],m=0;m<5;m++)for(var f=_[m];f<5;f++)slot.SlotMachineView.instance.scroller.items[m].renders[f].active=!1;h.getComponent(cc.Mask).enabled=!1,a.renders.forEach(function(e){var n=l.changeSpecialElemGrid.find(function(t){return t.pos-1==e.index})||t.find(function(t){return t==e});e.data>=12&&13!=e.data&&e._slotFrameAniView1&&!n&&(e._slotFrameAniView1.parent=h)}),cc.tween(this).delay(1.7).call(function(){h.getComponent(cc.Mask).enabled=!0,a.renders.forEach(function(t){t.data>=12&&13!=t.data&&t._slotFrameAniView1&&t._slotFrameAniView1.parent==h&&(t._slotFrameAniView1.parent=u)})}).start(),l.changeSpecialElemGrid.forEach(function(t){if(13==t.elem){var e=o.wildWrap.getChildByName("s_wild_atlas_symbols").getComponent(sp.Skeleton);return e.setAnimation(0,"win_idle",!0),void cc.tween(o.wildWrap).delay(.7).call(function(){e.setAnimation(0,"win_reduce",!1),e.setCompleteListener(function(){e.setAnimation(0,"idle",!0),e.setCompleteListener(null)})}).start()}var n=Math.floor((t.pos-1)/5),i=(t.pos-1)%5,r=a.items[n].renders[i];if(r._slotFrameAniView1){var s=r._slotFrameAniView1.getComponent(sp.Skeleton);r.data>=14&&(s.setAnimation(0,"win",!1),s.setCompleteListener(function(){s.setAnimation(0,"win_idle",!0),s.setCompleteListener(null)}),cc.tween(r.skinLoader.skeletonNode).delay(.7).call(function(){s.clearTrack(0),r._slotFrameAniView1.children.forEach(function(t,e){return t.active=e==r.data-14}),r.data=15==r.data?14:12,r.skinLoader.spriteNode.opacity=0,s.setAnimation(0,"win_reduce",!0),s.setCompleteListener(function(){s.setAnimation(0,"idle",!0),s.setCompleteListener(null)})}).start())}}),t.forEach(function(t){if(t.data<11){t.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win");var e=t.skinLoader.skeletonNode.getComponent(sp.Skeleton);e.setAnimation(0,"win",!1),e.setCompleteListener(function(){e.setAnimation(0,"win_idle",!0),e.setCompleteListener(null)}),cc.tween(t.skinLoader.skeletonNode).delay(.7).call(function(){e.setAnimation(0,"win_break",!1)}).start()}else if(12==t.data){var n=t._slotFrameAniView1.getComponent(sp.Skeleton);n.clearTrack(0),n.setAnimation(0,"win",!1),n.setCompleteListener(function(){n.setAnimation(0,"win_idle",!0),n.setCompleteListener(null)}),cc.tween(t.skinLoader.skeletonNode).delay(.7).call(function(){t._slotFrameAniView1.children.forEach(function(t){t.active&&cc.tween(t).to(.2,{opacity:0}).start()}),n.setAnimation(0,"win_break",!1),n.setCompleteListener(function(){n.setCompleteListener(null),t._recoverSlotFrameAniView1()})}).start()}}),p=Number(l.spinResult.spinCoin);for(var y=0,g=0,E=i==10*core.Global.gameId+1?[5,4,3,2,1]:[1,2,3,4,5],v=0;v<5;v++){var N=5*v;for(f=0;f<E[v];f++)y+=11==l.spinResult.grid[N+f]?1:0,g+=11==l.spinResult.gridChanged[N+f]?1:0}var S=l.rate,A=(i==10*core.Global.gameId+1?[2,4,6,10]:[1,2,3,5]).indexOf(S);slot.SoundMger.instance.playEffect("Prize_Mult_0"+(A+1)),this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Disappearwheel"),o.m_sumSpinCoin+=p;var t=c.reduce(function(t,e,n){return t+(n<=o.count?Number(e.spinResult.spinCoin):0)},0);game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_FORCE_UPDATE_ALL_SCORE,slot.PlayerManager.instance.showCoin+t),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,o.m_sumSpinCoin,o.m_isChufaFree)},.7);var C=slot.infoHub.p_nodeRole.getComponent(sp.Skeleton);if("fastspin_idle"!=C.animation){var w="win"+(Math.random()<.5?"":"2");slot.SoundMger.instance.playEffect("win"==w?"Mermaid_Sound_Yes01":"Mermaid_Sound_Kiss"),C.setAnimation(0,w,!1),C.setCompleteListener(function(){C.setAnimation(0,"idle",!0),C.setCompleteListener(null)})}var M=a.renders.filter(function(t){return 11==t.data});this.bScatterAcc=y>=2,a.ruleTaskManager.getRuleTask(slot.JTRuleTaskType.SCATTER).isRunning=this.bScatterAcc,slot.EliminateEffectUtils.isLeftRightFallDown=this.bScatterAcc,this.bScatterAcc&&(slot.EliminateEffectUtils.scatterDopGapTime=.5,slot.EliminateEffectUtils.scatterWaitDropTime=2.5);var T=cc.find("below/info_8",this.node),R=cc.find("below/node_win_score",this.node);if(!this.preFast)if(this.count<=slot.SpinManager.instance.customUpdateData.game_10017.data.resultList.length-2){if(y>=2){var b=t.reduce(function(t,e){return t[e.owner.index]+=1,t},[0,0,0,0,0]).reduce(function(t,e){return t+(0!=e?1:0)},0)*(slot.SpinManager.instance.isInTurbo?.1:.6);this.preFast=!0,cc.tween(this).delay(2).call(function(){var e=t.map(function(t){return Math.floor(t.index/5)});e.forEach(function(t){return a.items[t].skinLoader.url="animations/cardAni/wait"}),e.forEach(function(t){return a.items[t].skinLoader.skeletonNode.getComponent(sp.Skeleton).setAnimation(0,"wait2",!0)}),C.clearTrack(0),C.setCompleteListener(null),C.setAnimation(0,"fastspin_idle",!0),o.bScatterEffect=!0,M.forEach(function(t){return t.playHeart()}),T.active=!0,T.getComponent(cc.Animation).play(),R.opacity=0}).delay(2).call(function(){M.forEach(function(t){return t.stopHeart()}),T.getComponent(cc.Animation).stop(),T.scale=1,cc.tween(o).delay(b).call(function(){T.active=!1,R.opacity=255,[0,1,2,3,4].forEach(function(t){return a.items[t].skinLoader.url=null}),o.bScatterEffect=!1,o.preFast=!1}).start()}).start()}}else g>=3&&cc.tween(this).delay(2).call(function(){C.setAnimation(0,"fastspin_idle",!0)}).start();if(this.bScatterEffect&&y>=2){[0,1,2,3,4].forEach(function(t){return a.items[t].skinLoader.url=null});var O=t.map(function(t){return Math.floor(t.index/5)});O.forEach(function(t){return a.items[t].skinLoader.url="animations/cardAni/wait"}),O.forEach(function(t){return a.items[t].skinLoader.skeletonNode.getComponent(sp.Skeleton).setAnimation(0,"wait2",!0)})}slot.infoHub.playScore(p/S,S);var L=!1;if(n){var I=c.reduce(function(t,e){return t+Number(e.spinResult.spinCoin)},0),P=I/slot.SpinManager.instance.betCost;(L=P>=5&&P<20)&&(slot.infoHub.isPauseTask=!0),cc.tween(this).delay(3).call(function(){slot.infoHub.m_scoreLevel==slot.WinAniType.Normal&&(L?slot.infoHub.playNum(I,2,!0):slot.infoHub.playScore(p/P,P,I))}).start()}this.scheduleOnce(function(){o.resetScatter(),slot.SlotMachineView.instance.scroller.resetLayerSort(),slot.SlotMachineView.instance.scroller.updateChangedChildsLayer([],!0),e.run(),h.getComponent(cc.Mask).enabled=!1,slot.infoHub.m_scoreLevel!=slot.WinAniType.Normal||L||(slot.infoHub.isPauseTask1=!0)},1.2)}else cc.warn("changeItemAni error\uff01\uff01\uff01\uff01\uff01\uff01,resultList:",c)},e.prototype.elePlayAni=function(t,e){var n=this;cc.tween(this).delay(1).call(function(){n.slotMachine.scroller.resetLayerSort(),n.slotMachine.scroller.blackBackGround.active=!1,e.run()}).start()},e.prototype._initSlotMachineView=function(){slot.EliminateEffectUtils.setup(1500,.12,.08,.1,.8,.1,slot.EliminateDisappearUtils.disappearTime,slot.EliminateDisappearUtils.disappreaDelayTime),this.slotMachine.spaceX=0,this.slotMachine.spaceY=0,this.slotMachine.gridWidth=139,this.slotMachine.gridHeight=139,this.slotMachine.afterRender(this,this._rederAfter),this.slotMachine.onItemRender(this,this._onSpinSlotRender),this._registerSlotMachineAnimation()},e.prototype.adjustAccPos=function(){var t="wrap"+core.Global.gameId,e="wrap"+(10*core.Global.gameId+1);[0,1,2,3,4].forEach(function(n){var o=slot[t].parent,i=o.items[n];i.skinLoader.aniName="wait2";var a=i.skinLoader.getChildByName("Animation");a.getComponent(cc.Sprite).dstBlendFactor=cc.macro.BlendFactor.ONE;var r=cc.v3(Math.floor(145*i.index+72.5),-360),s=i.skinLoader.parent.convertToNodeSpaceAR(o.convertToWorldSpaceAR(r));i.skinLoader.position=s,i.skinLoader.scaleX=1;var c=[.32,.65,1,1.3,1.65];i.skinLoader.scaleY=c[i.index];var l=[-4,-7,-12,-20,-25],p=[10,10,10,14,10];i.skinLoader.x+=l[i.index],i.skinLoader.y+=p[i.index],(i=(o=slot[e].parent).items[n]).skinLoader.aniName="wait2",(a=i.skinLoader.getChildByName("Animation")).getComponent(cc.Sprite).dstBlendFactor=cc.macro.BlendFactor.ONE,r=cc.v3(Math.floor(145*i.index+72.5),-360),s=i.skinLoader.parent.convertToNodeSpaceAR(o.convertToWorldSpaceAR(r)),i.skinLoader.position=s,i.skinLoader.scaleX=1,c=[.33,.65,1,1.3,1.65],i.skinLoader.scaleY=c[4-i.index],l=[-12,-14,-16,-20,-24],p=[14,10,10,11,15],i.skinLoader.x+=l[i.index],i.skinLoader.y+=p[i.index]})},e.prototype.beforeScrollerStartRolling=function(){this.slotMachine.settings.settingConfig=slot.GData.getParameter("slotMachine").scrollerSetting},e.prototype._rederAfter=function(){slot.SpinManager.instance.spinTouchEnable=!0;var t="wrap"+core.Global.gameId,e="wrap"+(10*core.Global.gameId+1),n=slot[t].parent.elementBlackGround;n.getComponent(cc.Graphics).enabled=!1;var o=new cc.Node("blur");n.addChild(o),o.addComponent(cc.Sprite).spriteFrame=this.mianfeianniu.getSpriteFrame("ui_darken"),o.opacity=170,o.scale=1.1,o.y=-350,o.x=350;var i=slot[e].parent.elementBlackGround;i.getComponent(cc.Graphics).enabled=!1;var a=new cc.Node("blur");i.addChild(a),a.addComponent(cc.Sprite).spriteFrame=this.mianfeianniu.getSpriteFrame("wh_vfx_b_02"),a.opacity=150,a.scale=2.1,a.y=-400,a.x=350,slot[t].parent.adjustScrollerPostion(0,cc.v2(0,-278)),slot[t].parent.adjustScrollerPostion(1,cc.v2(0,-208.5)),slot[t].parent.adjustScrollerPostion(2,cc.v2(0,-139)),slot[t].parent.adjustScrollerPostion(3,cc.v2(0,-69.5));var r=this.node.getChildByName("below").getChildByName("bg1"),s=this.node.getChildByName("below").getChildByName("bg2");slot.MultipleGameManager.instance.curGameID==core.Global.gameId?(this.block1.active=!0,this.block2.active=!1,r.active=!0,s.active=!1):(this.block1.active=!1,this.block2.active=!0,r.active=!1,s.active=!0),slot[e].parent.adjustScrollerPostion(1,cc.v2(0,-69.5)),slot[e].parent.adjustScrollerPostion(2,cc.v2(0,-139)),slot[e].parent.adjustScrollerPostion(3,cc.v2(0,-208.5)),slot[e].parent.adjustScrollerPostion(4,cc.v2(0,-278)),this.adjustAccPos();var c=slot.SlotMachineView.instance.scroller.parent.children.find(function(t){return t.active}).gameID,l=slot["wrap"+c].parent;l.renders.forEach(function(t){return t.initEffect()}),this.initRenderState();for(var p=l.gameID==10*core.Global.gameId+1?[5,4,3,2,1]:[1,2,3,4,5],d=0;d<5;d++)for(var u=p[d];u<5;u++)slot.SlotMachineView.instance.scroller.items[d].renders[u].active=!1},e.prototype.initRenderState=function(){var t=this,e="wrap"+core.Global.gameId,n="wrap"+(10*core.Global.gameId+1);slot.MultipleGameManager.instance.curGameID==core.Global.gameId?(slot[e].parent.x=0,slot[n].parent.x=1e4):(slot[e].parent.x=1e4,slot[n].parent.x=0),slot.SlotMachineView.instance.scroller,this.wildWrap.parent=slot.SlotMachineView.instance.scroller.effectAboveContainer,this.wildCircle.parent=this.wildWrap.parent,this.wildShadow.parent=this.wildWrap.parent,this.wildShadow1.parent=this.wildWrap.parent,this.tailAni.parent=this.wildWrap.parent;var o=slot.SpinManager.instance.customUpdateData.game_10017.data.fixedGophersGrid[0];this.posArr=slot.SlotMachineView._instance.scroller.renders.map(function(e){return t.wildWrap.parent.convertToNodeSpaceAR(e.parent.convertToWorldSpaceAR(e.position))}),this.currentOrder=o.pos,this.wildWrap.setPosition(this.posArr[o.pos-1])},e.prototype._registerSlotMachineAnimation=function(){this.slotMachine.onContinuousNotWinAnimation(this,this._playContinuousNotWinAnimation),this.slotMachine.onNormalRewardsAnimation(this,this._playNormalRewardsAnimation),this.slotMachine.onFullLineAnimation(this,this._playFullLineAnimation),this.slotMachine.onGreatRewardsAnimation(this,this._playGreatRewardsAnimation),this.slotMachine.onMiddleRewardsAnimation(this,this._playMiddleRewardsAnimation),this.slotMachine.onSmallRewardsAnimation(this,this._playSmallRewardsAnimation),this.slotMachine.onSpinStart(this,this._onSpinStart),this.slotMachine.onSpinStop(this,this._onSpinStop),this.slotMachine.onSpinComplete(this,this._onSpinComplete),this.slotMachine.onSpinBegin(this,this._onSpinBegin)},e.prototype.stopWildAction=function(){if(this.wildWrapActionArr.length>0){this.wildWrapActionArr.forEach(function(t){return t.stop()}),this.wildWrapActionArr=[],this.wildCircle.active=!1;var t=this.wildWrap.getChildByName("duobao");t.active=!0,t.getComponent(sp.Skeleton).setAnimation(0,"beike",!1),cc.tween(this).delay(.8).call(function(){return t.active=!1}).start(),this.wildWrap.getComponent(cc.Animation).stop();var e=slot.SpinManager.instance.customUpdateData.game_10017.data;this.currentOrder=e.fixedGophersGrid[0].pos,this.wildWrap.setPosition(this.posArr[e.fixedGophersGrid[0].pos-1])}this.wildShadowActionArr.length>0&&(this.wildShadowActionArr.forEach(function(t){return t.stop()}),this.wildShadowActionArr=[],this.wildShadow.active=!1,this.wildShadow1.active=!1)},e.prototype._onSpinComplete=function(){this.m_isRunning=!1,console.log("=========\u6eda\u8f74\u7ed3\u675f"),this.stopWildAction(),this.removeIndex=-1,this.curMoney=0,slot.SlotMachineView.instance.scroller._blackBackGround.opacity=0;var t=0;if(slot.SlotMachineView.instance.scroller.renders.forEach(function(e){11==e.data&&e.scatterEffect&&(t+=1)}),t<3||this.m_isChufaFree){var e=slot.infoHub.p_nodeRole.getComponent(sp.Skeleton);/^idle/.test(e.animation)||this.m_isRunning||e.setAnimation(0,"idle",!0)}this.count=-1,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!0)},e.prototype._onSpinStop=function(t){for(var e=(slot.SlotMachineView.instance.scroller.parent.children.find(function(t){return t.active}).gameID==10*core.Global.gameId+1?[5,4,3,2,1]:[1,2,3,4,5])[t];e<5;e++)slot.SlotMachineView.instance.scroller.items[t].renders[e].active=!1},e.prototype.moveGoldWild=function(t){var e=this;this.currentOrder=t;var n=this.posArr[t-1],o=this.wildWrap.getChildByName("duobao");if(slot.SpinManager.instance.isInTurbo)this.wildWrap.setPosition(n),o.active=!0,o.getComponent(sp.Skeleton).setAnimation(0,"beike",!1);else{this.playRandPos(t-1);var i=this.wildWrap.getComponent(cc.Animation);i.play("wild_zoom");var a=this.wildCircle;a.setPosition(this.wildWrap.position),a.active=!0,a.opacity=255,this.wildWrapActionArr.push(cc.tween(this).delay(0).call(function(){return i.play("wild_shake")}).start()),this.wildWrapActionArr.push(cc.tween(this.wildWrap).delay(2.2).call(function(){i.stop(),cc.tween(a).to(.5,{opacity:0}).start(),e.playTailEffect(e.wildWrap.position,n)}).to(.2,{x:n.x,y:n.y}).call(function(){slot.SoundMger.instance.playEffect("Wild_Stop"),o.active=!0,o.getComponent(sp.Skeleton).setAnimation(0,"beike",!1)}).start()),this.wildWrapActionArr.push(cc.tween(this).delay(3.2).call(function(){a.active=!1,o.active=!1,e.wildWrapActionArr=[],e.wildShadowActionArr=[]}).start())}},e.prototype._onRollingResp=function(t,e){var n=e.updateList.find(function(t){return 6==t.type}).value.handleState.game_10017.data.fixedGophersGrid[0];this.moveGoldWild(n.pos)},e.prototype.onClickStart=function(){slot.PlayerManager.instance.showCoin<slot.SpinManager.instance.betCost&&this.moveGoldWild(1)},e.prototype._onSpinStart=function(t){if(this.unschedule(this._clearSpinReelAni),this._clearSpinReelAni(),0==t){this.m_isChufaFree||(this.m_sumSpinCoin=0),slot.SlotMachineView.instance.scroller.renders.forEach(function(t){return t.active=!0}),this.bScatterEffect=!1,this.preFast=!1,slot.SoundMger.instance.playEffect("Back_Water_0"+(Math.floor(3*Math.random())+1));for(var e=0,n=slot.SlotMachineView.instance.scroller.items;e<n.length;e++)for(var o=0,i=n[e].renders;o<i.length;o++)i[o]._recoverSlotFrameAniView1();var a=slot.infoHub.p_nodeRole.getComponent(sp.Skeleton);if(/^idle/.test(a.animation)||this.m_isRunning||a.setAnimation(0,"idle",!0),slot.infoHub.playScore(),!slot.SpinManager.instance.isInTurbo){var r=slot.SlotMachineView.instance.scroller.parent.children.find(function(t){return t.active}).gameID,s=(slot["wrap"+r].parent,slot.SlotMachineView.instance.scroller._blackBackGround);s.active=!0,cc.tween(s).set({opacity:0}).to(.1,{opacity:150}).delay(2).to(.3,{opacity:0}).start()}}},e.prototype.playRandPos=function(t){this.wildShadow.active=!0,this.wildShadow1.active=!0;for(var e=[],n=this.m_isChufaFree?[5,4,3,2,1]:[1,2,3,4,5],o=0;o<5;o++)for(var i=5*o,a=0;a<n[o];a++)e.push(i+a);var r=[];for(o=0;o<5;o++)r.push(e[Math.floor(Math.random()*e.length)]);r[5]=t;var s=.3;this.wildShadowActionArr.push(cc.tween(this.wildShadow).set({x:this.posArr[r[0]].x,y:this.posArr[r[0]].y,opacity:0}).to(.1,{opacity:255}).delay(s).to(.1,{opacity:0}).delay(s).set({x:this.posArr[r[2]].x,y:this.posArr[r[2]].y}).to(.1,{opacity:255}).delay(s).to(.1,{opacity:0}).delay(s).set({x:this.posArr[r[4]].x,y:this.posArr[r[4]].y}).to(.1,{opacity:255}).delay(.2).to(.1,{opacity:0}).start()),this.wildShadowActionArr.push(cc.tween(this.wildShadow1).set({x:this.posArr[r[1]].x,y:this.posArr[r[1]].y,opacity:0}).delay(.3).to(.1,{opacity:255}).delay(s).to(.1,{opacity:0}).delay(s).set({x:this.posArr[r[3]].x,y:this.posArr[r[3]].y}).to(.1,{opacity:255}).delay(s).to(.1,{opacity:0}).delay(s).set({x:this.posArr[r[5]].x,y:this.posArr[r[5]].y}).to(.1,{opacity:255}).delay(s).to(.3,{opacity:0}).start())},e.prototype._onSpinBegin=function(){this.isFirst=!1,this.resetScatter(),game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_STOP_WIN_NUM),game.EventManager.getInstance().raiseEvent(r.EventName.RESET_BG_SPRITE)},e.prototype._clearSpinReelAni=function(){},e.prototype._playContinuousNotWinAnimation=function(t,e){e.run()},e.prototype._playNormalRewardsAnimation=function(t,e){this.showWinAniView(slot.WinAniType.Normal,t,e,!slot.FreeGameManager.instance.isTreateFromFreeGame)},e.prototype._playFullLineAnimation=function(t,e){e.run()},e.prototype._playGreatRewardsAnimation=function(t,e){var n=this,o=slot.Handler.create(this,function(){slot.infoHub.playScore(1,-1,t),n.scheduleOnce(function(){return e.run()},2)});slot.infoHub.m_scoreLevel=slot.WinAniType.Great,this.showWinAniView(slot.WinAniType.Great,t,o,!slot.FreeGameManager.instance.isTreateFromFreeGame)},e.prototype._playMiddleRewardsAnimation=function(t,e){var n=this,o=slot.Handler.create(this,function(){slot.infoHub.playScore(1,-1,t),n.scheduleOnce(function(){return e.run()},2)});slot.infoHub.m_scoreLevel=slot.WinAniType.Middle,this.showWinAniView(slot.WinAniType.Middle,t,o,!slot.FreeGameManager.instance.isTreateFromFreeGame)},e.prototype._playSmallRewardsAnimation=function(t,e){var n=this,o=slot.Handler.create(this,function(){slot.infoHub.playScore(1,-1,t),n.scheduleOnce(function(){return e.run()},2)});slot.infoHub.m_scoreLevel=slot.WinAniType.Small,this.showWinAniView(slot.WinAniType.Small,t,o,!slot.FreeGameManager.instance.isTreateFromFreeGame)},e.prototype._onSpinSlotRender=function(){},e.prototype.addEventListener=function(){t.prototype.addEventListener.call(this)},e.prototype.removeEventListener=function(){t.prototype.removeEventListener.call(this)},e.prototype.onInitFreeGame=function(t,e){switch(this.isInTurBo=slot.SpinManager.instance.isInTurbo,slot.SpinManager.instance.isInTurbo=!1,console.log("oniniffreegame",t),slot.GameControlBase._instance.fastBtn.getComponent(cc.Button).interactable=!1,slot.SoundMger.instance.stopMusic("Game_Back_Music",!0),slot.SoundMger.instance.playMusic("FreeGame_Back_Music"),t.type){case slot.OperationState.Free:this.m_sumSpinCoin=t.sumSpinCoin,this._initFreeGame(t,e,!0);break;case slot.OperationState.ReSpin:}},e.prototype.addFreeSpinsAni=function(t,e,n){n.runWith(!0)},e.prototype._initFreeGame=function(t,e,n){var o=this;void 0===n&&(n=!1),this.node.getChildByName("scrollerLayer").children.forEach(function(t){"spinElementView"==t.name&&t.getComponent(slot.SpinElementView).hide()});var i=function(){var t=slot.MainView.instance.getNode(slot.MAIN_NODE_NAME.score);o.preParent=t.parent,o.prezIndex=t.zIndex,o.preY=t.y,t.parent=cc.Canvas.instance.node,t.zIndex=199,t.y=-647,o.srcGameY=slot.MainView.instance.getNode(slot.MAIN_NODE_NAME.gameControl).y,slot.MainView.instance.getNode(slot.MAIN_NODE_NAME.gameControl).y=-1e4,slot.MainView.instance.getNode(slot.MAIN_NODE_NAME.gameControl).opacity=0,slot.MainView.instance.getNode(slot.MAIN_NODE_NAME.menu).active=!1,slot.SoundMger.instance.stopMusic("Game_Back_Music",!0),slot.SoundMger.instance.playMusic("FreeGame_Back_Music")};this.p_nodeLabNum.getComponent(s.default).string=""+t.times;var a=slot.infoHub.p_nodeRole,r=slot.Handler.create(this,function(){o.node.getChildByName("normalbg").active=!1;var t=o.node.getChildByName("freebg");t.active=!0,o.m_isChufaFree=!0,a.parent=t.getChildByName("bns_bg"),a.setPosition(175,-2),a.scaleX=-.68,a.scaleY=.68,t.getChildByName("wrap1").active=!0,t.getChildByName("wrap2").active=!1;var i=a.getComponent(sp.Skeleton);i.setAnimation(0,"spawn",!1),i.setCompleteListener(function(){slot.SoundMger.instance.playEffect("Free_Mermaid_Sound"),i.setAnimation(0,"idle",!0),i.setCompleteListener(null)});var r=o.node.getChildByName("freebg").getChildByName("bg").getComponent(sp.Skeleton);r.setAnimation(0,"bg_fadein",!1),r.setCompleteListener(function(){r.setAnimation(0,"bg_loop",!0),r.setCompleteListener(null)}),slot.multiplierHub.getComponent(cc.Animation).play("to_free"),slot.SoundMger.instance.playEffect("Free_Mult_Double"),n||(slot.ScoreBase.instance.winScoreNum=0,o.m_sumSpinCoin=0),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,1),e.runWith(!0)});if(n)return i(),void r.run();var c=slot.infoHub.p_nodeRole.getComponent(sp.Skeleton);c.setAnimation(0,"fastspin_win",!1),c.setCompleteListener(function(){var e=o.node.getChildByName("normalbg").getChildByName("mermaid");"fastspin_win"==c.animation?(cc.tween(c).delay(.1).call(function(){a.zIndex=20}).start(),c.setAnimation(0,"exit",!1),e.active=!0,slot.SoundMger.instance.playEffect("Scatter_Mermaid_Sound"),e.getComponent(sp.Skeleton).setAnimation(0,"exit",!1)):"exit"==c.animation&&(e.active=!1,a.zIndex=0,slot.SoundMger.instance.playEffect("Free_Wait_Music"),game.UIManager.getInstance().open(210101,[t.sumTimes,r,i]),c.setCompleteListener(null))})},e.prototype.onFreeGameTriggered=function(t,e){switch(console.log("onFreeGameTriggered",t),slot.SpinManager.instance.isInTurbo=!1,slot.GameControlBase._instance.fastBtn.getComponent(cc.Button).interactable=!1,slot.SoundMger.instance.playEffect("Scatter"),t.type){case slot.OperationState.Free:this._initFreeGame(t,e);break;case slot.OperationState.ReSpin:}},e.prototype.onFreeGameInfoUpdated=function(t){switch(console.log("onFreeGameInfoUpdated",t),t.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}},e.prototype.onFreeGameOver=function(t,e){var n=this;switch(console.log("onFreeGameOver",t),slot.SpinManager.instance.isInTurbo=this.isInTurBo,t.type){case slot.OperationState.Free:var o=slot.MainView.instance.getNode(slot.MAIN_NODE_NAME.score);o.zIndex=10;var i=slot.Handler.create(this,function(){slot.MainView.instance.getNode(slot.MAIN_NODE_NAME.gameControl).opacity=255,slot.MainView.instance.getNode(slot.MAIN_NODE_NAME.gameControl).y=n.srcGameY,slot.MainView.instance.getNode(slot.MAIN_NODE_NAME.menu).active=!0,o.parent=n.preParent,o.zIndex=n.prezIndex,o.y=n.preY,n.m_isChufaFree=!1,n.node.getChildByName("normalbg").active=!0,n.node.getChildByName("freebg").active=!1;var i=slot.infoHub.p_nodeRole;i.parent=n.node,i.getComponent(sp.Skeleton).setAnimation(0,"idle",!0),i.setPosition(-171,-6),i.scaleX=.7,i.scaleY=.7,e.runWith(!0),n.upScatter(),slot.multiplierHub.light.active=!1,slot.multiplierHub.showMultiplier(1,0),slot.infoHub.p_banner.active=!1,slot.infoHub.p_nodeScore.getChildByName("infoBarWin").active=!0,slot.infoHub.p_nodeScore.getChildByName("infoBarWin").opacity=255,slot.infoHub.p_nodeLayoutWin.active=!0,slot.infoHub.p_nodeWinNum._components[0].string=slot.SlotUtils.formatNumber(t.sumSpinCoin),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,t.sumSpinCoin,!1,!1)});cc.tween(this).delay(.2).call(function(){game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,0)}).start(),slot.GameControlBase._instance.fastBtn.getComponent(cc.Button).interactable=!0,game.UIManager.getInstance().open(c.UIID.FREE_GAME_RESULT,[i,t.sumSpinCoin,t.sumTimes]);break;case slot.OperationState.ReSpin:}},e.prototype.upScatter=function(t){var e=this.node.getChildByName("scatterWrap"),n=function(t){for(var n=[],o=slot.gameLayer.m_isChufaFree?[5,4,3,2,1]:[1,2,3,4,5],i=0;i<5;i++)for(var a=5*i,r=0;r<o[i];r++)n.push(a+r);if(n.includes(t.index)&&t.active&&11==t.data&&t.parent!=e){var s=e.convertToNodeSpaceAR(t.skinLoader.convertToWorldSpaceAR(cc.v2()));t.srcPosition=cc.v2(t.x,t.y),t.srcParent=t.parent,t.parent=e,t.setPosition(s)}};t?n(t):slot.SlotMachineView.instance.scroller.renders.forEach(function(t){n(t)})},e.prototype.resetScatter=function(){var t=this.node.getChildByName("scatterWrap");t.zIndex=50,t.children.slice().forEach(function(t){t.parent=t.srcParent,t.setPosition(t.srcPosition)})},e.prototype.onFreeGameTriggerAgain=function(t,e){switch(console.log("onFreeGameTriggerAgain",t),t.type){case slot.OperationState.Free:e.run();break;case slot.OperationState.ReSpin:}},e.prototype.onFreeGameTimesUpdated=function(t){var e=this.node.getChildByName("freebg"),n=0==t;e.getChildByName("wrap1").active=!n,e.getChildByName("wrap2").active=n,this.p_nodeLabNum.getComponent(s.default).string=""+t,this.timesLight.play("animation",!1)},e.prototype.onBonusGameTriggered=function(t,e){slot.Handler.create(this,function(){}),e.runWith(!0)},e.prototype.onBonusGameOver=function(t,e){e.runWith(!0)},a([m(cc.Node)],e.prototype,"roller",void 0),a([m(cc.SpriteAtlas)],e.prototype,"mianfeianniu",void 0),a([m(cc.Node)],e.prototype,"wildCircle",void 0),a([m(cc.Node)],e.prototype,"wildWrap",void 0),a([m(cc.Node)],e.prototype,"wildShadow",void 0),a([m(cc.Node)],e.prototype,"wildShadow1",void 0),a([m(cc.Node)],e.prototype,"block1",void 0),a([m(cc.Node)],e.prototype,"block2",void 0),a([m(cc.Node)],e.prototype,"p_sprMaskTs",void 0),a([m(cc.Node)],e.prototype,"p_nodeLabNum",void 0),a([m(cc.Node)],e.prototype,"sMask",void 0),a([m(cc.SpriteAtlas)],e.prototype,"cardSymbols",void 0),a([_],e)}(slot.AbstractMainView);n.default=g,cc._RF.pop()},{"../GameEventName111001401":"GameEventName111001401","../GameLogic111001401":"GameLogic111001401","../main/CommonNumAtlas111001401":"CommonNumAtlas111001401","../main/Main111001401":"Main111001401","./scrollerSkins/JTChildManager111001401":"JTChildManager111001401","./scrollerSkins/JTLayerManager111001401":"JTLayerManager111001401","./scrollerSkins/JTScattask111001401":"JTScattask111001401"}],GameLogic111001401:[function(t,e,n){"use strict";cc._RF.push(e,"e837eQqI4tE3L6v/jLjXpWe","GameLogic111001401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./roller/JTPlayMusic"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.adjustFlowOptions=function(){this.childOption(r.default,slot.JTTaskPriority.JTGLOBAL_DISPLAY_LINES+1)},a([c],e)}(slot.JTLogicFactroy));n.default=l,cc._RF.pop()},{"./roller/JTPlayMusic":"JTPlayMusic"}],GameRoller111001401:[function(t,e,n){"use strict";cc._RF.push(e,"abb6bi47QpMaoarOAE3uHhF","GameRoller111001401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameEventName111001401"),s=t("../main/CommonNumAtlas111001401"),c=cc._decorator,l=c.ccclass,p=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.p_nodeRole=null,e.p_nodeWin=null,e.p_banner=null,e.p_nodeLayoutWin=null,e.p_nodeOwrWin=null,e.p_nodeCountWin=null,e.p_nodeWinNum=null,e.p_nodeScore=null,e.p_arrSocreFrame=[],e.m_scoreLevel=slot.WinAniType.Normal,e.m_arrMultiple=[],e.m_isChufaFree=!1,e.m_roleAniState=0,e.curAction=null,e}return i(e,t),e.prototype.onLoad=function(){slot.infoHub=this,this.p_nodeScore.getChildByName("mul").active=!1,this.p_nodeScore.getChildByName("infoBarWin").active=!1,this.p_banner.active=!0,this.p_nodeLayoutWin.active=!1,this.schedule(this._roleAniRound,12)},e.prototype.onEnable=function(){game.EventManager.getInstance().addEventListener(r.EventName.RESET_BG_SPRITE,this.initBgSprite,this),game.EventManager.getInstance().addEventListener(r.EventName.SET_BG_SPRITE,this.setBgSprite,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_UPDATE_MULTIPLE,this._updateMultiple,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_UPDATE_MULTIPLE_NUM,this._updateMultipleNum,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_PLAY_ROLE_ANI,this._eventPlayRoleAni,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_STOP_WIN_NUM,this._stopWinNum,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_PLAY_WIN_NUM,this._updateWinNum,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_PLAY_SCORE_ANI,this._playRewardAni,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_UPDATE_COUNT_SCORE,this._updateCountWinNum,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_CLICK_ELEMENT_VIEW,this._playSound,this)},e.prototype._playSound=function(){},e.prototype._eventPlayRoleAni=function(t,e){switch(e){case r.RoleAniType.Random:this.m_roleAniState=1,this._roleAniRound();break;case r.RoleAniType.Multiplier:this._roleAniMultipleUpdate();break;case r.RoleAniType.WinMedium:this._roleAniWinMedium();break;case r.RoleAniType.WinSmall:this._roleAniWinSmall();break;case r.RoleAniType.FastSpinIdle:this._roleAniFastspinIdle()}},e.prototype._roleAniRound=function(){var t=this;if(0==this.m_roleAniState||1==this.m_roleAniState){this.m_roleAniState=1;var e="idle_0"+(Math.floor(2*Math.random())+1);this._playRoleAni(e,!1,function(){t.m_roleAniState=0},"idle_01",!0)}},e.prototype._roleAniMultipleUpdate=function(){var t=this;this.m_roleAniState=2,this._playRoleAniEffect(),this._playRoleAni("multiplier_up",!1,function(){t.m_roleAniState=0},"idle_01",!0)},e.prototype._roleAniWinMedium=function(){var t=this;this.m_roleAniState=3,this._playRoleAni("win_medium",!1,function(){t.m_roleAniState=0},"idle_01",!0)},e.prototype._roleAniWinSmall=function(){var t=this;this.m_roleAniState=4,this._playRoleAni("win_small",!1,function(){t.m_roleAniState=0},"idle_01",!0)},e.prototype._roleAniFastspinIdle=function(){this.m_roleAniState=5,this._playRoleAni("fastspin_idle",!0)},e.prototype._playRoleAni=function(){},e.prototype._updateMultiple=function(t,e,n){void 0===n&&(n=!1)},e.prototype._updateMultipleNum=function(t,e,n){void 0===n&&(n=!1)},e.prototype._playRoleAniEffect=function(){},e.prototype._stopWinNum=function(){},e.prototype.event_stop_slot_machine_immediately=function(){},e.prototype._playRewardAni=function(){},e.prototype.resetWin=function(t,e){this.p_nodeLayoutWin.active=!0,this.p_banner.active=!1,this.p_nodeWin.active=!0,this.p_nodeOwrWin.active=!1,this.p_nodeWinNum.active=!0,this.p_nodeCountWin.active=!0,this.p_nodeWinNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(e);var n=this.p_nodeScore.getChildByName("infoBarWin");n.active=!0,n.opacity=255,n.getComponent(sp.Skeleton).setAnimation(0,"win_x1-x5_loop",!0)},e.prototype.playScore=function(t,e,n){var o=this;if(this.m_isChufaFree=slot.gameLayer.m_isChufaFree,!t)return this.curAction&&this.curAction.stop(),this.p_nodeScore.getComponent(cc.Sprite).enabled=!0,this.playBannerEffect(),slot.multiplierHub.light.active=!1,slot.multiplierHub.showMultiplier(this.m_isChufaFree?2:1,0),this.p_nodeLayoutWin.active=!1,void(this.m_scoreLevel=slot.WinAniType.Normal);if(n){var i=this.p_nodeScore.getChildByName("ib_bar");if(i.opacity=255,this.playNum(n,2),this.m_scoreLevel!=slot.WinAniType.Normal){if(slot.SlotMachineView.instance.scroller.renders.reduce(function(t,e){return t+(11==e.data&&e.scatterEffect?1:0)},0)<3){var a=slot.infoHub.p_nodeRole.getComponent(sp.Skeleton),r="win"+(Math.random()<.5?"":"2");slot.SoundMger.instance.playEffect("win"==r?"Mermaid_Sound_Yes01":"Mermaid_Sound_Kiss"),a.setAnimation(0,r,!1),a.setCompleteListener(function(){a.setAnimation(0,"idle",!0),a.setCompleteListener(null)})}i.active=!0,this.p_nodeScore.getComponent(cc.Sprite).enabled=!1;var c=Math.max(1,this.m_scoreLevel-2);i.getComponent(cc.Sprite).spriteFrame=this.p_arrSocreFrame[c],slot.SoundMger.instance.playEffect("Prize_End")}else i.active=!1,slot.SoundMger.instance.playEffect("Prize_Small_End");slot.gameLayer.bScatterAcc||this.playBannerEffect(0)}else{var l=(this.m_isChufaFree?[2,4,6,10]:[1,2,3,5]).indexOf(e);-1!=l?(1==e?this.playNum(t,1):(this.p_nodeScore.getChildByName("mul").getComponent(s.default).string="x"+e,this.playNum(t,0),cc.tween(this.node).delay(1).call(function(){slot.multiplierHub.stress(l)}).delay(1).call(function(){o.playNum(t*e,1)}).start()),this.playBannerEffect(l),this.curAction=cc.tween(this.node).delay(1.6).call(function(){var t=o.m_isChufaFree?2:1;slot.multiplierHub.showMultiplier(t,Math.min(3,l+1))}).start()):cc.log("playScore--mul error")}},e.prototype.playBannerEffect=function(t){var e=this.p_nodeScore.getChildByName("infoBarWin"),n=this.p_nodeScore.getChildByName("mul");if(this.p_banner.active=!1,null==t){this.p_banner.active=!0;var o=this.p_nodeScore.getChildByName("ib_bar");return o.active&&cc.tween(o).to(.3,{opacity:0}).start(),e.active&&cc.tween(e).to(.3,{opacity:0}).start(),void cc.tween(this).delay(.4).call(function(){o.active=!1,e.active=!1}).start()}e.active=!0,e.opacity=255,t>=1&&t<=3?(n.active=!0,cc.tween(n).set({opacity:0,scale:.2}).delay(.9).to(.3,{scale:3,opacity:69},{easing:"quadOut"}).delay(.4).to(.35,{opacity:0}).start()):n.active=!1;var i=e.getComponent(sp.Skeleton),a=["win_x1","win_x2-x3","win_x2-x3","win_x2-x3","win_x5"][Math.min(4,t)];this.m_scoreLevel!=slot.WinAniType.Normal&&(a="win_x5"),i.setAnimation(0,a,!1),i.setCompleteListener(function(){i.setAnimation(0,"win_x1-x5_loop",!0),i.setCompleteListener(null)})},e.prototype.playNum=function(t,e,n){var o=this;void 0===n&&(n=!1),this.p_nodeWin.active=!0,this.p_nodeWinNum.active=!0,this.p_nodeCountWin.active=!1,this.p_nodeOwrWin.active=!1,this.p_nodeLayoutWin.active=!0,1==e?this.p_nodeOwrWin.active=!0:2==e&&(this.p_nodeCountWin.active=!0);var i=this.p_nodeWinNum.getComponent(s.default);if(n){slot.SoundMger.instance.playEffect("Prize_Countup_Sound");var a=Date.now(),r=function(){var e=(Date.now()-a)/1e3/1.5;if(e>=1){e=1,slot.SoundMger.instance.playEffect("Prize_End"),o.p_nodeScore.getComponent(cc.Sprite).enabled=!1;var n=o.p_nodeScore.getChildByName("ib_bar");n.active=!0,n.opacity=255,n.getComponent(cc.Sprite).spriteFrame=o.p_arrSocreFrame[1],o.playBannerEffect(4),o.unschedule(r),o.p_nodeLayoutWin.getComponent(cc.Layout).enabled=!0,cc.tween(o.p_nodeLayoutWin).set({scale:.85}).to(.35,{scale:1},{easing:"backOut"}).start()}i.string=slot.SlotUtils.formatNumber(e*t)};this.schedule(r,.02),this.scheduleOnce(function(){return o.p_nodeLayoutWin.getComponent(cc.Layout).enabled=!1}),i.string=slot.SlotUtils.formatNumber(t).replace(/\d/g,"0"),this.p_nodeScore.getChildByName("infoBarWin").getComponent(sp.Skeleton).setAnimation(0,"win_x5_fadein_loop",!0)}else i.string=slot.SlotUtils.formatNumber(t),cc.tween(this.p_nodeLayoutWin).set({scale:.85}).to(.35,{scale:1},{easing:"backOut"}).start()},e.prototype._updateWinNum=function(){},e.prototype.initBgSprite=function(){},e.prototype.setBgSprite=function(){},e.prototype._playWinSocre=function(){},e.prototype._updateCountWinNum=function(){},e.prototype._onFreeGameStart=function(){this.m_isChufaFree=!0},e.prototype._onFreeGameOver=function(){this.m_isChufaFree=!1},e.prototype.start=function(){},e.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_UPDATE_MULTIPLE,this._updateMultiple,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_UPDATE_MULTIPLE_NUM,this._updateMultipleNum,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_PLAY_ROLE_ANI,this._eventPlayRoleAni,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_STOP_WIN_NUM,this._stopWinNum,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_PLAY_WIN_NUM,this._updateWinNum,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_PLAY_SCORE_ANI,this._playRewardAni,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_UPDATE_COUNT_SCORE,this._updateCountWinNum,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_CLICK_ELEMENT_VIEW,this._playSound,this)},a([p(cc.Node)],e.prototype,"p_nodeRole",void 0),a([p(cc.Node)],e.prototype,"p_nodeWin",void 0),a([p(cc.Node)],e.prototype,"p_banner",void 0),a([p(cc.Node)],e.prototype,"p_nodeLayoutWin",void 0),a([p(cc.Node)],e.prototype,"p_nodeOwrWin",void 0),a([p(cc.Node)],e.prototype,"p_nodeCountWin",void 0),a([p(cc.Node)],e.prototype,"p_nodeWinNum",void 0),a([p(cc.Node)],e.prototype,"p_nodeScore",void 0),a([p({type:[cc.SpriteFrame],tooltip:"\u5206\u6570node\u7684\u7cbe\u7075\u56fe\u96c6"})],e.prototype,"p_arrSocreFrame",void 0),a([l],e)}(slot.BaseView);n.default=d,cc._RF.pop()},{"../GameEventName111001401":"GameEventName111001401","../main/CommonNumAtlas111001401":"CommonNumAtlas111001401"}],JTChildManager111001401:[function(t,e,n){"use strict";cc._RF.push(e,"5719b+lJVtDfYSZeMtE0kix","JTChildManager111001401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=t("../SpinSlotViewExtend111001401"),r=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.registerClassAlias=function(){return this.registerClass(slot.JTChildFactory.SCROLLER_TYPE,slot.JTScroller),this.registerClass(slot.JTChildFactory.ITEMRENDER_TYPE,a.default),this.registerClass(slot.JTChildFactory.GIRD_TYPE,slot.JTSkinnableGridRender),this.registerClass(slot.JTChildFactory.SCATTER_TYPE,slot.JTScatterGridRender),this.registerClass(slot.JTChildFactory.LINE_TYPE,slot.JTSkinnableRuntimeLineAnimationRender),this},e.prototype.changedLine=function(e,n){t.prototype.changedLine.call(this,e,n)},e}(slot.JTChildFactory);n.default=r,cc._RF.pop()},{"../SpinSlotViewExtend111001401":"SpinSlotViewExtend111001401"}],JTLayerManager111001401:[function(t,e,n){"use strict";cc._RF.push(e,"aa69cmSY1FEmpzsFRlItGKh","JTLayerManager111001401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.initialize=function(t){this.addChildNode(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,t);var n=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,t),o=(this.addChildNode(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,t),this.addChildNode(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,t));this.addChildNode(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,t).name="SKIN_LOADER_CONTAINER",this.addChildNode(slot.JTLayerFactory.SCROLLER_CONTAINER,o).name="SCROLLER_CONTAINER";var i=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,t);i.name="contaner2";var a=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,t);a.name="contaner3";var r=this.addChildNode(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,t);r.name="backGround",slot["wrap"+t.gameID]=this.addChildNode(e.FRAME_IMAGE_CONTAINER,t);var s=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,t);if(this.addChildNode(slot.JTLayerFactory.LINE_CONTAINER,t).name="LINE_CONTAINER",this.addChildNode(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,t),this.addChildNode(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,t),o.launch(t),o.height=481,r.getComponent(cc.Graphics).enabled=!1,r.opacity=0,r.opacity=0,r.active=!1,r.parent.gameID==core.Global.gameId){var c=new cc.Node("blur");r.addChild(c),c.addComponent(cc.Sprite).spriteFrame=slot.gameLayer.mianfeianniu.getSpriteFrame("ui_darken"),c.opacity=255,c.scale=1.1,c.y=-350,c.x=350}else{var l=new cc.Node("blur");r.addChild(l),l.addComponent(cc.Sprite).spriteFrame=slot.gameLayer.mianfeianniu.getSpriteFrame("wh_vfx_b_02"),l.opacity=255,l.scale=1.4,l.y=-350,l.x=340}r.setup(t.config.getWidth(),481),n.setupMask(t.config.getWidth(),481),i.setupMask(t.config.getWidth(),481),a.setupMask(t.config.getWidth(),481),s.setupMask(t.config.getWidth(),481)},e.prototype.registerClassAlias=function(){return this.registerClass(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.LINE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.GIRD_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,slot.JTScrollerGroupMask),this.registerClass(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCATTER_GRID_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,slot.JTGComponent),this.registerClass(e.FRAME_IMAGE_CONTAINER,slot.JTGComponent),this},e.FRAME_IMAGE_CONTAINER=999,e}(slot.JTLayerFactory);n.default=a,cc._RF.pop()},{}],JTPlayMusic:[function(t,e,n){"use strict";cc._RF.push(e,"a786d0/nN1D4YLJJy6x28iU","JTPlayMusic");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.runningTask=function(){var e=this;t.prototype.runningTask.call(this),console.log("runningTask----JTPlayMusic"),slot.infoHub.isPauseTask?(cc.tween(this).delay(3.5).call(function(){return e.complete()}).start(),slot.infoHub.isPauseTask=!1):slot.infoHub.isPauseTask1?(cc.tween(this).delay(1.8).call(function(){return e.complete()}).start(),slot.infoHub.isPauseTask1=!1):this.complete()},e.prototype.complete=function(){t.prototype.complete.call(this)},a([s],e)}(slot.JTParseTask));n.default=c,cc._RF.pop()},{}],JTScattask111001401:[function(t,e,n){"use strict";cc._RF.push(e,"ab4120NS09LNKR5fvuA4Hj0","JTScattask111001401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ignoreIdx=[],e}return i(e,t),e.prototype.getIgnoreIndexs=function(t){return this.ignoreIdx[t]},e.prototype.setIgnore=function(t){this.ignoreIdx=t},e.prototype.start=function(){},a([s],e)}(slot.JTScatterTask));n.default=c,cc._RF.pop()},{}],LanguageInfo111001401:[function(t,e,n){"use strict";cc._RF.push(e,"a7534kriytEJZ/5P6CpM60F","LanguageInfo111001401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},a([s],e)}(slot.LanguageInfoBase));n.default=c,cc._RF.pop()},{}],Main111001401:[function(t,e,n){"use strict";cc._RF.push(e,"57d00zdnbpIl73C/PZZzTrK","Main111001401");var o,i,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.UICF=n.UIID=void 0;var s,c=cc._decorator,l=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.onLoad=function(){slot.MultipleGameManager.instance.curGameID=111001401,t.prototype.onLoad.call(this),console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>"),game.BaseUIConf.getInstance().mergeUIConf(n.UICF);var e=game.BaseUIConf.getInstance().getUICF();game.UIManager.getInstance().initUIConf(e)},r([l],e)}(slot.MainView));n.default=p,function(t){t[t.BONUS_GAME_POPUP=210101]="BONUS_GAME_POPUP",t[t.FREE_GAME_RESULT=210102]="FREE_GAME_RESULT"}(s=n.UIID||(n.UIID={})),n.UICF=((i={})[s.BONUS_GAME_POPUP]={bundleName:"game_111001401",path:"prefabs/bonusGame/bonusGame1",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i[s.FREE_GAME_RESULT]={bundleName:"game_111001401",path:"prefabs/freeGameResult/freeGameResult1",preventKeyboard:!0,preventTouch:!0,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i),cc._RF.pop()},{}],NumAtlasLabel111001401:[function(t,e,n){"use strict";cc._RF.push(e,"0452atpXL1HG41C7ZUyJq7w","NumAtlasLabel111001401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),a([s],e)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],ParticleSystemSpriteFramesRefresh1401:[function(t,e,n){"use strict";cc._RF.push(e,"fb866MBmnhD/qKcM+F/gzag","ParticleSystemSpriteFramesRefresh1401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlas=null,e.aniFps=15,e.ps=null,e.index=0,e.count=0,e.spriteArray=[],e}return i(e,t),e.prototype.onLoad=function(){this.ps||(this.ps=this.node.getComponent(cc.ParticleSystem)),this.spriteArray=this.atlas.getSpriteFrames(),this.count=this.spriteArray.length,this.schedule(this.refreshSprite,1/this.aniFps,cc.macro.REPEAT_FOREVER)},e.prototype.refreshSprite=function(){this.index>=this.count&&(this.index=0),this.ps.spriteFrame=this.spriteArray[this.index],this.index++},a([c({type:cc.SpriteAtlas,tooltip:"\u56fe\u96c6\u8d44\u6e90"})],e.prototype,"atlas",void 0),a([c({type:cc.Integer,tooltip:"\u6bcf\u79d2\u66ff\u6362\u7c92\u5b50\u8d34\u56fe\u591a\u5c11\u6b21"})],e.prototype,"aniFps",void 0),a([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],PlayOnEnable11100401:[function(t,e,n){"use strict";cc._RF.push(e,"b2b81c1AS9KnJooMasOlbvg","PlayOnEnable11100401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onEnable=function(){var t=this.getComponent(sp.Skeleton);t&&t.setAnimation(0,"animation",!1);var e=this.getComponent(cc.Animation);e&&e.play(),this.getComponentsInChildren(cc.ParticleSystem).forEach(function(t){return t.resetSystem()})},e.prototype.start=function(){},a([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],SpinSlotViewExtend111001401:[function(t,e,n){"use strict";cc._RF.push(e,"32be0vc0edONqUu4Uh58X3x","SpinSlotViewExtend111001401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){var e=t.call(this)||this;return e.scatterEffect=null,e._slotFrameAniView=null,e._slotFrameAniViewSign="___SLOT_FRAME_ANI_VIEW_SIGN",e._slotFrameAniView1=null,e.isBlur=!0,e.isFade=!1,e.isFadeMask=!1,e.skinLoader.skeletonNode.scale=1,e}return i(e,t),e.prototype.onPlayAnimation=function(){},e.prototype.posChange=function(){var t=this;slot.gameLayer.scheduleOnce(function(){t.parent&&(t.scatterEffect&&(t.scatterEffect.active=!0,t.scatterEffect.y=t.scatterEffect.parent.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position)).y),t._slotFrameAniView1&&(t._slotFrameAniView1.active=!0,t._slotFrameAniView1.y=t._slotFrameAniView1.parent.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position)).y))})},e.prototype.initEffect=function(){for(var t=[],e=slot.gameLayer.m_isChufaFree?[5,4,3,2,1]:[1,2,3,4,5],n=0;n<5;n++)for(var o=5*n,i=0;i<e[n];i++)t.push(o+i);if(t.includes(this.index)&&this.active)if(this.posChange(),this.skinLoader.spriteNode.opacity=this.data>11?0:255,12==this.data||14==this.data||15==this.data){if(this._slotFrameAniView1)return;this._slotFrameAniView1||(this._slotFrameAniView1=cc.instantiate(slot.SlotMachineView.instance.node.parent.getChildByName("s_wild_blue"))),this._slotFrameAniView1.active=!0,this._slotFrameAniView1.getChildByName("mul"+this.data).active=!0,slot.SlotMachineView.instance.addEffect(this._slotFrameAniView1,this.index,!0);var a=slot.SlotMachineView.instance.getPosByIndex(this.index);this._slotFrameAniView1.y=a.y;var r=this._slotFrameAniView1.getComponent(sp.Skeleton);r.clearTrack(0),r.setAnimation(0,"idle",!0)}else 11==this.data&&(this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle"),this.scatterEffect||(this.scatterEffect=cc.instantiate(slot.SlotMachineView.instance.node.parent.getChildByName("duobao")),this.scatterEffect.active=!0,slot.SlotMachineView.instance.addEffect(this.scatterEffect,this.index,!1),this.scatterEffect.y=slot.SlotMachineView.instance.getPosByIndex(this.index).y),this.skinLoader.skeletonNode.parent=this.scatterEffect)},e.prototype.playHeart=function(){cc.tween(this.skinLoader).to(.15,{scale:.75}).to(.15,{scale:.7}).to(.15,{scale:.8}).to(.15,{scale:.7}).delay(.4).union().repeatForever().start()},e.prototype.stopHeart=function(){cc.Tween.stopAllByTarget(this.skinLoader),this.skinLoader.scale=.7},e.prototype.elePlayAnimation=function(){for(var t=[],e=slot.gameLayer.m_isChufaFree?[5,4,3,2,1]:[1,2,3,4,5],n=0;n<5;n++)for(var o=5*n,i=0;i<e[n];i++)t.push(o+i);if(t.includes(this.index)&&this.active){if(this.posChange(),this.skinLoader.spriteNode.opacity=this.data>11?0:255,12==this.data||14==this.data||15==this.data){if(this._slotFrameAniView1)return;slot.SoundMger.instance.playEffect("Wild_Stop"),this.on(cc.Node.EventType.POSITION_CHANGED,this.posChange,this),this._showFrameAniView1(slot.SlotMachineView.instance,this.index)}else if(11==this.data){slot.SoundMger.instance.playEffect("Scatter_Stop"),this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn");var a=this.skinLoader.skeletonNode.getComponent(sp.Skeleton);a.setEndListener(function(){a.setAnimation(0,"idle",!0),a.setEndListener(null)}),this.scatterEffect||(this.scatterEffect=cc.instantiate(slot.SlotMachineView.instance.node.parent.getChildByName("duobao")),this.scatterEffect.active=!0,slot.SlotMachineView.instance.addEffect(this.scatterEffect,this.index,!1),this.scatterEffect.y=slot.SlotMachineView.instance.getPosByIndex(this.index).y,this.on(cc.Node.EventType.POSITION_CHANGED,this.posChange,this)),this.skinLoader.skeletonNode.parent=this.scatterEffect}else if(this.data<11){this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn");var r=this.skinLoader.skeletonNode.getComponent(sp.Skeleton);this.skinLoader.playTaskCall=function(){r.premultipliedAlpha=!0,r.setAnimation(0,"spawn",!1)}}slot.gameLayer.upScatter(this)}},e.prototype.onDropEnd=function(){this.elePlayAnimation()},e.prototype.onStopAnimation=function(){},e.prototype.onRollEnd=function(){this.elePlayAnimation()},e.prototype.onPlayRewardsAnimation=function(){},e.prototype.onStopRewardsAnimation=function(){e._rewardsView&&e._rewardsView.removeFromParent()},e.prototype._getRewardsAnimation=function(){},e.prototype.addEffectElement=function(){this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win")},e.prototype._recoverSlotFrameAniView1=function(){this.off(cc.Node.EventType.POSITION_CHANGED,this.posChange,this),this.skinLoader.spriteNode.opacity=255,this.skinLoader.skeletonNode.parent=this.skinLoader,this.scatterEffect&&(this.scatterEffect.destroy(),this.scatterEffect=null),this._slotFrameAniView1&&(this._slotFrameAniView1.active=!1,this._slotFrameAniView1.destroy(),this._slotFrameAniView1=null)},e.prototype._showFrameAniView1=function(t,e){this._slotFrameAniView1||(this._slotFrameAniView1=cc.instantiate(slot.SlotMachineView.instance.node.parent.getChildByName("s_wild_blue"))),this._slotFrameAniView1.active=!0;var n=this._slotFrameAniView1.getChildByName("mul"+this.data);n.active=!0,cc.tween(n).set({opacity:0}).to(.1,{opacity:255}).start(),t.addEffect(this._slotFrameAniView1,e,!0);var o=t.getPosByIndex(e);this._slotFrameAniView1.y=o.y;var i=this._slotFrameAniView1.getComponent(sp.Skeleton);i.clearTrack(0),i.setAnimation(0,"spawn",!1),i.setCompleteListener(function(){i.setAnimation(0,"idle",!0),i.setCompleteListener(null)})},e.prototype._recoverSlotFrameAniView=function(){this._slotFrameAniView&&(this._slotFrameAniView.removeFromParent(),this._slotFrameAniView.active=!1,this._slotFrameAniView=null)},e.prototype.onDataOrStageChange=function(){this.skinLoader.skeletonNode.parent=this.skinLoader,this.scatterEffect&&(this.scatterEffect.destroy(),this.scatterEffect=null),this.skinLoader.spriteNode.opacity=255,13==this.data&&0==this.currentFrame&&(this.skinLoader.spriteNode.opacity=0)},e._rewardsView=null,e}(slot.SpinSlotView);n.default=a,cc._RF.pop()},{}],WaveComponent:[function(t,e,n){"use strict";cc._RF.push(e,"7509alpE6ZEDrKhzakQzEOG","WaveComponent");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,r.executeInEditMode),l=r.requireComponent,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._time=0,e}return i(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){this.material=this.node.getComponent(cc.Sprite).getMaterial(0),this.setResolution()},e.prototype.update=function(t){this._time+=t,this.material.setProperty("time",this._time)},e.prototype.setResolution=function(){this.material.setProperty("resolution",cc.v2(this.node.width,this.node.height))},a([s,c,l(cc.Sprite)],e)}(cc.Component);n.default=p,cc._RF.pop()},{}],multiplieHub111001401:[function(t,e,n){"use strict";cc._RF.push(e,"425b5A/JvhP0rZEuhBfrtiY","multiplieHub111001401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.light=null,e.lizi=null,e.normal=null,e.normalClose=[],e.normalOpen=[],e.free=null,e.freeClose=[],e.freeOpen=[],e.preMul1=-1,e.preMul2=-1,e.currentMul=0,e}return i(e,t),e.prototype.onLoad=function(){slot.multiplierHub=this,this.showMultiplier(1,0,!0);var t=this.lizi.addComponent(slot.AnimationExtend);this.liziAni=t,this.lizi.active=!1;var e=new slot.AniParam(slot.ANIMATION_TYPE.SPRITE_FRAMES_CLIP,"textures/ui/beishu/lizi",slot.GData.bundleName,"animation",25);t.init(e),this.lizi.getComponent(cc.Sprite).dstBlendFactor=cc.macro.BlendFactor.ONE},e.prototype.start=function(){},e.prototype.stress=function(t){cc.tween(this.light).to(.3,{scale:1.1}).delay(.2).to(2,{scale:.55},{easing:"circOut"}).start();var e=(slot.gameLayer.m_isChufaFree?this.freeOpen[t]:this.normalOpen[t]).getChildByName("mul"),n=e.scale;cc.tween(e).to(.3,{scale:n+.2}).delay(.2).to(.3,{scale:n},{easing:"circOut"}).start()},e.prototype.showMultiplier=function(t,e,n){var o=this;if(this.currentMul=e,1==t){if(this.preMul2=-1,e==this.preMul1)return;this.normal.active=!0,this.free.active=!1,this.normalClose.forEach(function(t,n){n==o.preMul1?t.active=!0:t.active=n!=e}),this.normalOpen.forEach(function(t,i){i==o.preMul1?cc.tween(t).set({opacity:255}).to(.2,{opacity:0}).start():i==e?(t.active=!0,0!=e?(slot.SoundMger.instance.playEffect("Mult_Add"),cc.tween(t).set({opacity:0,scale:.9}).to(.2,{opacity:255,scale:1.2}).to(.3,{scale:1},{easing:"circOut"}).start(),n||cc.tween(t).delay(.2).call(function(){o.lizi.position=t.parent.position,o.lizi.active=!0,o.liziAni.play("animation",!1)}).start(),o.light.active=!0,o.light.position=t.parent.position,cc.tween(o.light).set({opacity:0}).to(1,{opacity:255}).start(),cc.tween(o.light).set({angle:.6}).to(10,{angle:360}).union().repeatForever().start()):(o.light.active=!1,-1==o.preMul1?t.opacity=255:cc.tween(t).set({opacity:0}).to(.2,{opacity:255}).start())):t.active=!1}),this.preMul1=e}else{if(this.preMul1=-1,e==this.preMul2)return;this.normal.active=!1,this.free.active=!0,this.freeClose.forEach(function(t,n){n==o.preMul2?t.active=!0:t.active=n!=e}),this.freeOpen.forEach(function(t,i){i==o.preMul2?cc.tween(t).set({opacity:255}).to(.2,{opacity:0}).start():i==e?(t.active=!0,0!=e?(slot.SoundMger.instance.playEffect("Mult_Add"),cc.tween(t).set({opacity:0,scale:.9}).to(.2,{opacity:255,scale:1.2}).to(.3,{scale:1},{easing:"circOut"}).start(),n||cc.tween(t).delay(.2).call(function(){o.lizi.position=t.parent.position,o.lizi.active=!0,o.liziAni.play("animation",!1)}).start(),o.light.active=!0,o.light.position=t.parent.position,cc.tween(o.light).set({opacity:0}).to(1,{opacity:255}).start(),cc.tween(o.light).set({angle:.6}).to(6,{angle:360}).union().repeatForever().start()):(o.light.active=!1,-1==o.preMul2?t.opacity=255:cc.tween(t).set({opacity:0}).to(.2,{opacity:255}).start())):t.active=!1}),this.preMul2=e}},a([c(cc.Node)],e.prototype,"light",void 0),a([c(cc.Node)],e.prototype,"lizi",void 0),a([c(cc.Node)],e.prototype,"normal",void 0),a([c([cc.Node])],e.prototype,"normalClose",void 0),a([c([cc.Node])],e.prototype,"normalOpen",void 0),a([c(cc.Node)],e.prototype,"free",void 0),a([c([cc.Node])],e.prototype,"freeClose",void 0),a([c([cc.Node])],e.prototype,"freeOpen",void 0),a([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}]},{},["Banner111001401","GameEventName111001401","GameLogic111001401","NumAtlasLabel111001401","BonusGame111001401_","FreeGameResult111001401","GameBg111001401","AnimationEx111001401","CommonNumAtlas111001401","LanguageInfo111001401","Main111001401","ParticleSystemSpriteFramesRefresh1401","PlayOnEnable11100401","WaveComponent","multiplieHub111001401","Adaptive111001401","GameLayer111001401","GameRoller111001401","JTPlayMusic","SpinSlotViewExtend111001401","JTChildManager111001401","JTLayerManager111001401","JTScattask111001401"]);